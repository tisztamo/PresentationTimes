{"version":3,"sources":["model/chain.js","model/token.js","model/presentation.js","view/hostpage.js","lib/qrcode.js","lib/reconnecting-websocket.js","model/chainevents.js","view/entrancepage.js","view/presentationlist.js","view/visitorpage.js","view/timerpage.js","view/keyloadpage.js","main.js","../../bin/node-v10.14.1-linux-x64/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["API_BASE_URL","WS_BASE_URL","conn","BigchainDB","Connection","_me","loadOrCreateMe","me","setMe","newMe","localStorage","setItem","JSON","stringify","recreateMe","createIdentity","Ed25519Keypair","document","location","search","startsWith","keys","substr","length","split","publicKey","privateKey","tokens","storedMe","getItem","parse","getTransaction","txId","cached","Promise","resolve","then","tx","id","postTransaction","txSigned","Transaction","signTransaction","postTransactionCommit","listOutputs","searchAssets","searchMetadata","populateWithAsset","transferTx","asset","assetTx","filetime_to_unixtimems","ft","epoch_diff","rate_diff","Math","round","syncedTS","serverTS","clientTS","synchChainTime","beforeTS","Date","now","fetch","response","json","data","Number","currentFileTime","getChainSynchedTS","getChainTimeMillis","selectedToken","tokenLaunch","nTokens","creator","makeCreateTransaction","token","number_tokens","datetime","toString","makeOutput","makeEd25519Condition","res","selectToken","tokensLeft","createTx","findSourceTxForAmount","txs","amount","find","outputs","ownerOutputIdx","giveTokens","receiverPubKey","metadata","getOwnedTokens","ownedTokens","sourceTx","transactions","sourceAmount","console","error","remaining","push","makeTransferTransaction","output_index","all","map","output","transaction_id","total","i","ownerOutput","transferAllToNewIdentity","saveSelectedToken","selectTokenById","tokenId","inputs","owners_before","dropSelectedToken","removeItem","loadSelectedToken","PRESENTATION_STARTED","findPresentations","assets","filter","createPresentation","presenterName","title","abstract","presenter","presentation","type","presenterPublicKey","startPresentation","grantedLength","timeStamp","state","startTS","ts","grantTime","usedTokens","collectedVotesDuringLastPeriod","autoGrant","neededNewTokens","findRunningPresentation","filtered","found","maxTS","Infinity","voteForRunning","running","alert","HostPage","Vue","component","methods","createToken","t","log","entrance","app","route","timer","newIdentity","reload","addPresentation","pres","template","_QRCode","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","code","charCodeAt","Array","prototype","concat","apply","unshift","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","Error","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","y","x","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","_isSupportCanvas","CanvasRenderingContext2D","_getAndroid","android","sAgent","navigator","userAgent","aMat","match","parseFloat","svgDrawer","Drawing","el","htOption","_el","_htOption","draw","oQRCode","nCount","nWidth","width","nHeight","height","clear","makeSVG","tag","attrs","createElementNS","k","hasOwnProperty","setAttribute","svg","String","colorLight","setAttributeNS","appendChild","colorDark","child","hasChildNodes","removeChild","lastChild","useSVG","documentElement","tagName","toLowerCase","aHTML","innerHTML","join","elTable","childNodes","nLeftMarginTable","offsetWidth","nTopMarginTable","offsetHeight","style","margin","_onMakeImage","_elImage","src","_elCanvas","toDataURL","display","_safeSetDataURI","fSuccess","fFail","self","_fFail","_fSuccess","_bSupportDataURI","createElement","fOnError","call","fOnSuccess","onabort","onerror","onload","_bIsPainted","_android","_oContext","getContext","alt","nRoundedWidth","nRoundedHeight","bIsDark","nLeft","nTop","strokeStyle","lineWidth","fillStyle","fillRect","strokeRect","ceil","makeImage","isPainted","clearRect","nNumber","_getTypeNumber","sText","nCorrectLevel","nType","_getUTF8Length","len","nLimit","replacedText","encodeURI","replace","vOption","correctLevel","text","getElementById","_oQRCode","_oDrawing","makeCode","CorrectLevel","QRCode","arguments","factory","window","ReconnectingWebSocket","url","protocols","options","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","readyState","WebSocket","CONNECTING","protocol","ws","forcedClose","timedOut","eventTarget","addEventListener","event","onopen","onclose","onconnecting","onmessage","bind","removeEventListener","dispatchEvent","generateEvent","s","args","evt","createEvent","initCustomEvent","open","reconnectAttempt","debugAll","localWs","timeout","setTimeout","close","clearTimeout","OPEN","isReconnect","CLOSED","reason","wasClean","pow","send","refresh","CLOSING","WS_URL","listeners","Map","websocket","initWebSocket","wsMessageHandler","message","transactionRef","interestedListeners","asset_id","transaction","forEach","listener","handler","addListener","assetIds","assetId","has","set","listenForTransactions","random","clearListener","idx","indexOf","splice","createVisitor","visitor","createVisitorQR","target","origin","pathname","qrcode","EntrancePage","txListeners","lastVisitorPubKey","created","newVisitor","beforeDestroy","host","PresentationList","props","Boolean","presentations","runningPresentation","update","start","p","VisitorPage","voteInProgress","vote","finally","twoDigit","minsecs","totalsecs","mins","secs","TimerPage","_interval","runningForSecs","computed","granted","runnedOut","setInterval","step","clearInterval","KeyLoadPage","noTokensFound","href","catch","NotFound","routes","currentRoute","hash","newRoute","history","pushState","ViewComponent","render","h","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","hostname","handled","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","v","hmrAcceptRun","removeErrorOverlay","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","parents","dep","isArray","Function","deps","cache","some","cb"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["export const API_BASE_URL = 'https://test.bigchaindb.com/api/v1/'\nexport const WS_BASE_URL = 'wss://test.bigchaindb.com:443/api/v1/'\n\nlet conn = new BigchainDB.Connection(API_BASE_URL)\nlet _me = null;\nloadOrCreateMe()\n\nexport function me() {\n    return _me\n}\n\nexport function setMe(newMe) {\n    _me = newMe\n    localStorage.setItem(\"me\", JSON.stringify(newMe))\n}\n\nexport function recreateMe() {\n    setMe(createIdentity())\n}\n\nexport function createIdentity() {\n    return new BigchainDB.Ed25519Keypair()\n}\n\nfunction loadOrCreateMe() {\n    if (document && document.location && document.location.search.startsWith(\"?keys=\")) {\n        const keys = document.location.search.substr(\"?keys=\".length).split(\",\")\n        setMe({\n            publicKey: keys[0],\n            privateKey: keys[1],\n            tokens: null\n        })\n        return\n    }\n    const storedMe = localStorage.getItem(\"me\")\n    if (storedMe) {\n        _me = JSON.parse(storedMe)\n    } else {\n        recreateMe()\n    }\n}\n\nexport function getTransaction(txId) {\n    const cached = localStorage.getItem(\"txcache_\" + txId)\n    if (cached) {\n        return Promise.resolve(JSON.parse(cached))\n    }\n    return conn.getTransaction(txId).then(tx => {\n        if (tx && tx.id) {\n            localStorage.setItem(\"txcache_\" + tx.id, JSON.stringify(tx))\n        }\n        return tx\n    })\n}\n\nexport function postTransaction(tx) {\n    const txSigned = BigchainDB.Transaction.signTransaction(tx, me().privateKey)\n    return conn.postTransactionCommit(txSigned)\n}\n\nexport function listOutputs(publicKey) {\n    return conn.listOutputs(publicKey, false)\n}\n\nexport function searchAssets(search) {\n    return conn.searchAssets(search)\n}\n\nexport function searchMetadata(search) {\n    return conn.searchMetadata(search)\n}\n\nexport function populateWithAsset(transferTx) {\n    if (!transferTx) {\n        return null\n    }\n    return getTransaction(transferTx.asset.id).then(assetTx => {\n        assetTx.asset.id = transferTx.asset.id\n        transferTx.asset = assetTx.asset\n        return transferTx\n    })\n}\n\n\n\nfunction filetime_to_unixtimems(ft) {\n    const epoch_diff = 116444736000000000;\n    const rate_diff = 10000;\n    return Math.round((ft - epoch_diff) / rate_diff);\n}\n\nconst syncedTS = {\n    serverTS: 0,\n    clientTS: 0\n}\n\nexport function synchChainTime() {\n    const beforeTS = Date.now()\n    let clientTS = 0\n    fetch(\"http://worldclockapi.com/api/json/utc/now\").then(response => {\n        clientTS = Math.round((Date.now() + beforeTS) / 2)\n        return response.json()\n    }).then(data => {\n        syncedTS.serverTS = filetime_to_unixtimems(Number(data.currentFileTime))\n        syncedTS.clientTS = clientTS\n    })\n}\nsynchChainTime()\n\nexport function getChainSynchedTS() {\n    return Date.now() - syncedTS.clientTS + syncedTS.serverTS\n}\n\nexport function getChainTimeMillis() {\n    return Math.round(getChainSynchedTS() / 1000)\n}","import {me, postTransaction, getTransaction, listOutputs, recreateMe, createIdentity, setMe} from \"./chain.js\"\n\nexport let selectedToken = null\n\nexport function tokenLaunch(nTokens=1000000) {\n    const creator = me()\n    const tx = BigchainDB.Transaction.makeCreateTransaction({\n            token: 'BPNT Time Token',\n            number_tokens: nTokens\n        },\n        {\n            datetime: new Date().toString()\n        },\n        [BigchainDB.Transaction.makeOutput(BigchainDB.Transaction\n            .makeEd25519Condition(creator.publicKey), nTokens.toString())],\n        creator.publicKey\n    )\n\n    return postTransaction(tx).then(res => {\n        selectToken({\n            id: res.id,\n            tokensLeft: nTokens,\n            creator: creator,\n            createTx: res,\n        })\n        return selectedToken\n    })\n}\n\nfunction findSourceTxForAmount(txs, amount) {\n    return txs.find(tx => Number(tx.outputs[tx.ownerOutputIdx].amount) >= amount)\n}\n\nexport function giveTokens(token, receiverPubKey, amount, metadata = null) {\n   return getOwnedTokens(me().publicKey).then(ownedTokens => {\n       const sourceTx = findSourceTxForAmount(ownedTokens.transactions, amount)\n       const sourceAmount = Number(sourceTx.outputs[sourceTx.ownerOutputIdx].amount)\n       if (sourceAmount < amount) {\n           console.error(\"Source transaction does not contain \" + amount + \" tokens\", sourceTx)\n           return\n       }\n       const remaining = sourceAmount - amount;\n       const outputs = []\n       if (remaining > 0) {\n           outputs.push(\n               BigchainDB.Transaction.makeOutput(\n                   BigchainDB.Transaction\n                       .makeEd25519Condition(me().publicKey),\n                   (remaining).toString())\n           )\n       }\n       outputs.push(\n           BigchainDB.Transaction.makeOutput(\n               BigchainDB.Transaction\n                   .makeEd25519Condition(receiverPubKey),\n               amount.toString())\n       )\n       const tx = BigchainDB.Transaction.makeTransferTransaction(\n            [{\n                tx: sourceTx,// TODO: handle multiple unspent outputs (if needed)\n                output_index: sourceTx.ownerOutputIdx\n            }],\n            outputs,\n            metadata\n        )\n\n        return postTransaction(tx).then(tx => {\n            token.tokensLeft -= amount\n            selectToken(token)\n            return tx\n        })\n    })\n}\n\n//TODO filter by token type\nexport function getOwnedTokens(publicKey) {\n    return listOutputs(publicKey).then(outputs => {\n        return Promise.all(outputs.map(output => getTransaction(output.transaction_id))).then(txs => {\n            let total = 0;\n            for (let i = 0; i < outputs.length; i++) {\n                txs[i].ownerOutputIdx = outputs[i].output_index\n                txs[i].ownerOutput = txs[i].outputs[outputs[i].output_index]\n                total += Number(txs[i].ownerOutput.amount)\n            }\n            return {\n                total,\n                transactions: txs\n            }\n        })\n    })\n}\nexport function transferAllToNewIdentity() {\n    const newMe = createIdentity()\n    return getOwnedTokens(me().publicKey).then(ownedTokens => {\n       return giveTokens(selectedToken, newMe.publicKey, ownedTokens.total).then(() => {\n           setMe(newMe)\n       })\n    })\n}\n\nexport function selectToken(token) {\n    selectedToken = token\n    saveSelectedToken()\n    return token\n}\n\nexport function selectTokenById(tokenId) {\n    return getTransaction(tokenId).then(createTx => {\n        return selectToken({\n            createTx,\n            id: createTx.id,\n            creator: { publicKey: createTx.inputs[0].owners_before[0] },\n            tokensLeft: 'Unknown'\n        })\n    })\n}\n\nfunction saveSelectedToken() {\n    localStorage.setItem(\"currentToken\", JSON.stringify(selectedToken))\n}\n\nexport function dropSelectedToken() {\n    localStorage.removeItem(\"currentToken\")\n}\n\nfunction loadSelectedToken() {\n    const token = localStorage.getItem(\"currentToken\")\n    if (token) {\n        selectToken(JSON.parse(token))\n    }\n}\n\nloadSelectedToken()","import {getOwnedTokens, giveTokens, selectedToken} from \"./token.js\"\nimport {\n    createIdentity,\n    me,\n    postTransaction,\n    searchAssets,\n    getTransaction,\n    searchMetadata,\n    populateWithAsset,\n    getChainTimeMillis\n} from \"./chain.js\"\n\nconst PRESENTATION_STARTED= \"presentation_started\"\n\nexport function findPresentations() {\n    return searchAssets(\"xpresentation\").then(assets => {\n        return Promise.all(assets.filter(asset => {\n            return asset.data.token === selectedToken.id\n        }).map(asset => getTransaction(asset.id)))\n    })\n}\n\nexport function createPresentation(presenterName, title, abstract) {\n    const presenter = createIdentity()\n    const creator = me()\n    const presentation = {\n        type: 'xpresentation',\n        presenterName,\n        title,\n        abstract,\n        presenterPublicKey: presenter.publicKey,\n        token: selectedToken.id,\n    };\n    const tx = BigchainDB.Transaction.makeCreateTransaction(\n        presentation,\n        {\n            datetime: new Date().toString()\n        },\n        [BigchainDB.Transaction.makeOutput(BigchainDB.Transaction\n            .makeEd25519Condition(creator.publicKey))],\n        creator.publicKey\n    )\n\n    return postTransaction(tx)\n}\n\nexport function startPresentation(presentation, grantedLength = 30) {\n    const timeStamp = getChainTimeMillis()\n    const tx = BigchainDB.Transaction.makeTransferTransaction(\n        [{tx: presentation, output_index: 0}],\n        [BigchainDB.Transaction.makeOutput(BigchainDB.Transaction.makeEd25519Condition(me().publicKey))],\n        {\n            state: PRESENTATION_STARTED,\n            startTS: timeStamp,\n            ts: timeStamp,\n            token: presentation.asset.data.token,\n            grantedLength\n        }\n    )\n    return postTransaction(tx)\n}\n\nexport function grantTime(presentation, grantedLength = 20, usedTokens = 0) {\n    const timeStamp =getChainTimeMillis()\n    const tx = BigchainDB.Transaction.makeTransferTransaction(\n        [{tx: presentation, output_index: 0}],\n        [BigchainDB.Transaction.makeOutput(BigchainDB.Transaction.makeEd25519Condition(me().publicKey))],\n        {\n            state: PRESENTATION_STARTED,\n            startTS: presentation.metadata.startTS,\n            ts: timeStamp,\n            token: presentation.asset.data.token,\n            grantedLength: Number(presentation.metadata.grantedLength) + Number(grantedLength),\n            usedTokens\n        }\n    )\n    return postTransaction(tx)\n}\n\nexport function collectedVotesDuringLastPeriod(presentation) {\n    const presenterPublicKey = presentation.asset.data.presenterPublicKey\n    return getOwnedTokens(presenterPublicKey).then(tokens => {\n        return tokens.total - (presentation.metadata.usedTokens || 0)\n    })\n}\n\nexport function autoGrant(presentation, neededNewTokens = 1, grantedLength = 20) {\n    return collectedVotesDuringLastPeriod(presentation).then(tokens => {\n        if (tokens >= neededNewTokens) {\n            return grantTime(presentation, grantedLength, tokens + (presentation.metadata.usedTokens || 0))\n        }\n    })\n}\n\nexport function findRunningPresentation() {\n    return searchMetadata(PRESENTATION_STARTED).then(txs => {\n        const filtered = txs.filter(tx => {\n            return tx.metadata.token === selectedToken.id\n        })\n        let found = null\n        let maxTS = -Infinity\n        for (let i = 0; i < filtered.length; i++) {\n            if (filtered[i].metadata.ts > maxTS) {\n                found = filtered[i]\n                maxTS = filtered[i].metadata.ts\n            }\n        }\n        return found && maxTS > getChainTimeMillis() - found.metadata.grantedLength ? getTransaction(found.id) : null\n    }).then(populateWithAsset)\n}\n\nexport function voteForRunning() {\n    return findRunningPresentation().then(running => {\n        if (!running) {\n            alert(\"No active presentation found\")\n            return\n        }\n        return giveTokens(selectedToken, running.asset.data.presenterPublicKey, 1)\n    })\n}","import {recreateMe} from \"../model/chain.js\"\nimport {tokenLaunch, selectedToken, dropSelectedToken} from \"../model/token.js\"\nimport {app} from \"../main.js\"\nimport {createPresentation} from \"../model/presentation.js\"\n\nexport const HostPage = Vue.component('host-page', {\n    data: function () {\n        return {\n            token: selectedToken,\n            presenterName: null,\n            title: null,\n            abstract: null\n        }\n    },\n    methods: {\n        createToken: function() {\n            return tokenLaunch().then(t => {\n                this.token = t\n                console.log(\"Token created: \" + t.id)\n            })\n        },\n        entrance: function() {\n            app.route(\"entrance\")\n        },\n        timer: function() {\n            app.route(\"timer\")\n        },\n        newIdentity: function() {\n            recreateMe()\n            dropSelectedToken()\n            location.reload()\n        },\n        addPresentation: function() {\n            createPresentation(this.presenterName, this.title, this.abstract).then(pres =>\n            {\n                document.location.reload()\n            })\n        }\n    },\n    template: `\n  <v-content>\n    <v-container fluid>\n    <div>\n        <v-btn @click=\"newIdentity()\">New Identity</v-btn>\n        <v-btn v-if=\"!token\" @click=\"createToken()\">Create Token</v-btn>\n        <div v-if=\"token\">Token: {{token.id}}</div>\n        <v-btn @click=\"entrance()\" v-if=\"token\">Entrance View</v-btn>\n        <v-btn @click=\"timer()\" v-if=\"token\">Timer View</v-btn>\n        <div v-if=\"token\">\n            <h3>Presentations</h3>\n            <presentation-list host=\"true\"></presentation-list>\n            <h3>Create Presentation</h3>\n            <v-form>\n                <v-text-field v-model=\"presenterName\" placeholder=\"Presenter\" single-line></v-text-field>\n                <v-text-field v-model=\"title\" placeholder=\"Title\"></v-text-field>\n                <v-textarea v-model=\"abstract\" placeholder=\"Abstract\"></v-textarea>\n                <v-btn v-if=\"title\" @click=\"addPresentation()\">Create Presentation</v-btn>        \n            </v-form>\n        </div>\n    </div>\n    </v-container>\n</v-content>\n`\n})","\nvar _QRCode;\n\n(function () {\n    //---------------------------------------------------------------------\n    // _QRCode for JavaScript\n    //\n    // Copyright (c) 2009 Kazuhiko Arase\n    //\n    // URL: http://www.d-project.com/\n    //\n    // Licensed under the MIT license:\n    //   http://www.opensource.org/licenses/mit-license.php\n    //\n    // The word \"QR Code\" is registered trademark of\n    // DENSO WAVE INCORPORATED\n    //   http://www.denso-wave.com/qrcode/faqpatent-e.html\n    //\n    //---------------------------------------------------------------------\n    function QR8bitByte(data) {\n        this.mode = QRMode.MODE_8BIT_BYTE;\n        this.data = data;\n        this.parsedData = [];\n\n        // Added to support UTF-8 Characters\n        for (var i = 0, l = this.data.length; i < l; i++) {\n            var byteArray = [];\n            var code = this.data.charCodeAt(i);\n\n            if (code > 0x10000) {\n                byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n                byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n                byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[3] = 0x80 | (code & 0x3F);\n            } else if (code > 0x800) {\n                byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n                byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[2] = 0x80 | (code & 0x3F);\n            } else if (code > 0x80) {\n                byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n                byteArray[1] = 0x80 | (code & 0x3F);\n            } else {\n                byteArray[0] = code;\n            }\n\n            this.parsedData.push(byteArray);\n        }\n\n        this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n        if (this.parsedData.length != this.data.length) {\n            this.parsedData.unshift(191);\n            this.parsedData.unshift(187);\n            this.parsedData.unshift(239);\n        }\n    }\n\n    QR8bitByte.prototype = {\n        getLength: function (buffer) {\n            return this.parsedData.length;\n        },\n        write: function (buffer) {\n            for (var i = 0, l = this.parsedData.length; i < l; i++) {\n                buffer.put(this.parsedData[i], 8);\n            }\n        }\n    };\n\n    function QRCodeModel(typeNumber, errorCorrectLevel) {\n        this.typeNumber = typeNumber;\n        this.errorCorrectLevel = errorCorrectLevel;\n        this.modules = null;\n        this.moduleCount = 0;\n        this.dataCache = null;\n        this.dataList = [];\n    }\n\n    QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\n            return this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\n            this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\n            if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\n            this.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\n            return pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\n            return qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\n            this.modules[r][6]=(r%2==0);}\n            for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\n                this.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\n            for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\n            for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\n            for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\n            this.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\n            var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\n            this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\n            row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\n        var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\n        if(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n            +buffer.getLengthInBits()\n            +\">\"\n            +totalDataCount*8\n            +\")\");}\n        if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\n        while(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\n        while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\n            buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\n            buffer.put(QRCodeModel.PAD1,8);}\n        return QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\n        offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\n        var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\n        var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\n        for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\n        return data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\n            return((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\n            return(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\n            return digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\n            return a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\n            for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\n                if(r==0&&c==0){continue;}\n                if(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\n            if(sameCount>5){lostPoint+=(3+sameCount-5);}}}\n            for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\n            for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\n            for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\n            var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\n            var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\n            return QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\n            while(n>=256){n-=255;}\n            return QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\n    for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\n    for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\n    function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\n        var offset=0;while(offset<num.length&&num[offset]==0){offset++;}\n        this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\n    QRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\n            return new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\n            var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\n            for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\n            return new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\n    QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\n        var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\n        return list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\n    QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\n            if(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\n            this.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n    function _isSupportCanvas() {\n        return typeof CanvasRenderingContext2D != \"undefined\";\n    }\n\n    // android 2.x doesn't support Data-URI spec\n    function _getAndroid() {\n        var android = false;\n        var sAgent = navigator.userAgent;\n\n        if (/android/i.test(sAgent)) { // android\n            android = true;\n            var aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i);\n\n            if (aMat && aMat[1]) {\n                android = parseFloat(aMat[1]);\n            }\n        }\n\n        return android;\n    }\n\n    var svgDrawer = (function() {\n\n        var Drawing = function (el, htOption) {\n            this._el = el;\n            this._htOption = htOption;\n        };\n\n        Drawing.prototype.draw = function (oQRCode) {\n            var _htOption = this._htOption;\n            var _el = this._el;\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = Math.floor(_htOption.width / nCount);\n            var nHeight = Math.floor(_htOption.height / nCount);\n\n            this.clear();\n\n            function makeSVG(tag, attrs) {\n                var el = document.createElementNS('http://www.w3.org/2000/svg', tag);\n                for (var k in attrs)\n                    if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\n                return el;\n            }\n\n            var svg = makeSVG(\"svg\" , {'viewBox': '0 0 ' + String(nCount) + \" \" + String(nCount), 'width': '100%', 'height': '100%', 'fill': _htOption.colorLight});\n            svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n            _el.appendChild(svg);\n\n            svg.appendChild(makeSVG(\"rect\", {\"fill\": _htOption.colorLight, \"width\": \"100%\", \"height\": \"100%\"}));\n            svg.appendChild(makeSVG(\"rect\", {\"fill\": _htOption.colorDark, \"width\": \"1\", \"height\": \"1\", \"id\": \"template\"}));\n\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    if (oQRCode.isDark(row, col)) {\n                        var child = makeSVG(\"use\", {\"x\": String(col), \"y\": String(row)});\n                        child.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", \"#template\")\n                        svg.appendChild(child);\n                    }\n                }\n            }\n        };\n        Drawing.prototype.clear = function () {\n            while (this._el.hasChildNodes())\n                this._el.removeChild(this._el.lastChild);\n        };\n        return Drawing;\n    })();\n\n    var useSVG = document.documentElement.tagName.toLowerCase() === \"svg\";\n\n    // Drawing in DOM by using Table tag\n    var Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? (function () {\n        var Drawing = function (el, htOption) {\n            this._el = el;\n            this._htOption = htOption;\n        };\n\n        /**\n         * Draw the _QRCode\n         *\n         * @param {_QRCode} oQRCode\n         */\n        Drawing.prototype.draw = function (oQRCode) {\n            var _htOption = this._htOption;\n            var _el = this._el;\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = Math.floor(_htOption.width / nCount);\n            var nHeight = Math.floor(_htOption.height / nCount);\n            var aHTML = ['<table style=\"border:0;border-collapse:collapse;\">'];\n\n            for (var row = 0; row < nCount; row++) {\n                aHTML.push('<tr>');\n\n                for (var col = 0; col < nCount; col++) {\n                    aHTML.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + 'px;height:' + nHeight + 'px;background-color:' + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';\"></td>');\n                }\n\n                aHTML.push('</tr>');\n            }\n\n            aHTML.push('</table>');\n            _el.innerHTML = aHTML.join('');\n\n            // Fix the margin values as real size.\n            var elTable = _el.childNodes[0];\n            var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;\n            var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;\n\n            if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n                elTable.style.margin = nTopMarginTable + \"px \" + nLeftMarginTable + \"px\";\n            }\n        };\n\n        /**\n         * Clear the _QRCode\n         */\n        Drawing.prototype.clear = function () {\n            this._el.innerHTML = '';\n        };\n\n        return Drawing;\n    })() : (function () { // Drawing in Canvas\n        function _onMakeImage() {\n            this._elImage.src = this._elCanvas.toDataURL(\"image/png\");\n            this._elImage.style.display = \"block\";\n            this._elCanvas.style.display = \"none\";\n        }\n\n        /**\n         * Check whether the user's browser supports Data URI or not\n         *\n         * @private\n         * @param {Function} fSuccess Occurs if it supports Data URI\n         * @param {Function} fFail Occurs if it doesn't support Data URI\n         */\n        function _safeSetDataURI(fSuccess, fFail) {\n            var self = this;\n            self._fFail = fFail;\n            self._fSuccess = fSuccess;\n\n            // Check it just once\n            if (self._bSupportDataURI === null) {\n                var el = document.createElement(\"img\");\n                var fOnError = function() {\n                    self._bSupportDataURI = false;\n\n                    if (self._fFail) {\n                        self._fFail.call(self);\n                    }\n                };\n                var fOnSuccess = function() {\n                    self._bSupportDataURI = true;\n\n                    if (self._fSuccess) {\n                        self._fSuccess.call(self);\n                    }\n                };\n\n                el.onabort = fOnError;\n                el.onerror = fOnError;\n                el.onload = fOnSuccess;\n                el.src = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\n                return;\n            } else if (self._bSupportDataURI === true && self._fSuccess) {\n                self._fSuccess.call(self);\n            } else if (self._bSupportDataURI === false && self._fFail) {\n                self._fFail.call(self);\n            }\n        };\n\n        /**\n         * Drawing _QRCode by using canvas\n         *\n         * @constructor\n         * @param {HTMLElement} el\n         * @param {Object} htOption _QRCode Options\n         */\n        var Drawing = function (el, htOption) {\n            this._bIsPainted = false;\n            this._android = _getAndroid();\n\n            this._htOption = htOption;\n            this._elCanvas = document.createElement(\"canvas\");\n            this._elCanvas.width = htOption.width;\n            this._elCanvas.height = htOption.height;\n            el.appendChild(this._elCanvas);\n            this._el = el;\n            this._oContext = this._elCanvas.getContext(\"2d\");\n            this._bIsPainted = false;\n            this._elImage = document.createElement(\"img\");\n            this._elImage.alt = \"Scan me!\";\n            this._elImage.style.display = \"none\";\n            this._el.appendChild(this._elImage);\n            this._bSupportDataURI = null;\n        };\n\n        /**\n         * Draw the _QRCode\n         *\n         * @param {_QRCode} oQRCode\n         */\n        Drawing.prototype.draw = function (oQRCode) {\n            var _elImage = this._elImage;\n            var _oContext = this._oContext;\n            var _htOption = this._htOption;\n\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = _htOption.width / nCount;\n            var nHeight = _htOption.height / nCount;\n            var nRoundedWidth = Math.round(nWidth);\n            var nRoundedHeight = Math.round(nHeight);\n\n            _elImage.style.display = \"none\";\n            this.clear();\n\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    var bIsDark = oQRCode.isDark(row, col);\n                    var nLeft = col * nWidth;\n                    var nTop = row * nHeight;\n                    _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.lineWidth = 1;\n                    _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.fillRect(nLeft, nTop, nWidth, nHeight);\n\n                    // 안티 앨리어싱 방지 처리\n                    _oContext.strokeRect(\n                        Math.floor(nLeft) + 0.5,\n                        Math.floor(nTop) + 0.5,\n                        nRoundedWidth,\n                        nRoundedHeight\n                    );\n\n                    _oContext.strokeRect(\n                        Math.ceil(nLeft) - 0.5,\n                        Math.ceil(nTop) - 0.5,\n                        nRoundedWidth,\n                        nRoundedHeight\n                    );\n                }\n            }\n\n            this._bIsPainted = true;\n        };\n\n        /**\n         * Make the image from Canvas if the browser supports Data URI.\n         */\n        Drawing.prototype.makeImage = function () {\n            if (this._bIsPainted) {\n                _safeSetDataURI.call(this, _onMakeImage);\n            }\n        };\n\n        /**\n         * Return whether the _QRCode is painted or not\n         *\n         * @return {Boolean}\n         */\n        Drawing.prototype.isPainted = function () {\n            return this._bIsPainted;\n        };\n\n        /**\n         * Clear the _QRCode\n         */\n        Drawing.prototype.clear = function () {\n            this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\n            this._bIsPainted = false;\n        };\n\n        /**\n         * @private\n         * @param {Number} nNumber\n         */\n        Drawing.prototype.round = function (nNumber) {\n            if (!nNumber) {\n                return nNumber;\n            }\n\n            return Math.floor(nNumber * 1000) / 1000;\n        };\n\n        return Drawing;\n    })();\n\n    /**\n     * Get the type by string length\n     *\n     * @private\n     * @param {String} sText\n     * @param {Number} nCorrectLevel\n     * @return {Number} type\n     */\n    function _getTypeNumber(sText, nCorrectLevel) {\n        var nType = 1;\n        var length = _getUTF8Length(sText);\n\n        for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n            var nLimit = 0;\n\n            switch (nCorrectLevel) {\n                case QRErrorCorrectLevel.L :\n                    nLimit = QRCodeLimitLength[i][0];\n                    break;\n                case QRErrorCorrectLevel.M :\n                    nLimit = QRCodeLimitLength[i][1];\n                    break;\n                case QRErrorCorrectLevel.Q :\n                    nLimit = QRCodeLimitLength[i][2];\n                    break;\n                case QRErrorCorrectLevel.H :\n                    nLimit = QRCodeLimitLength[i][3];\n                    break;\n            }\n\n            if (length <= nLimit) {\n                break;\n            } else {\n                nType++;\n            }\n        }\n\n        if (nType > QRCodeLimitLength.length) {\n            throw new Error(\"Too long data\");\n        }\n\n        return nType;\n    }\n\n    function _getUTF8Length(sText) {\n        var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n        return replacedText.length + (replacedText.length != sText ? 3 : 0);\n    }\n\n    /**\n     * @class _QRCode\n     * @constructor\n     * @example\n     * new _QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\n     *\n     * @example\n     * var oQRCode = new _QRCode(\"test\", {\n     *    text : \"http://naver.com\",\n     *    width : 128,\n     *    height : 128\n     * });\n     *\n     * oQRCode.clear(); // Clear the _QRCode.\n     * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the _QRCode.\n     *\n     * @param {HTMLElement|String} el target element or 'id' attribute of element.\n     * @param {Object|String} vOption\n     * @param {String} vOption.text _QRCode link data\n     * @param {Number} [vOption.width=256]\n     * @param {Number} [vOption.height=256]\n     * @param {String} [vOption.colorDark=\"#000000\"]\n     * @param {String} [vOption.colorLight=\"#ffffff\"]\n     * @param {_QRCode.CorrectLevel} [vOption.correctLevel=_QRCode.CorrectLevel.H] [L|M|Q|H]\n     */\n    _QRCode = function (el, vOption) {\n        this._htOption = {\n            width : 256,\n            height : 256,\n            typeNumber : 4,\n            colorDark : \"#000000\",\n            colorLight : \"#ffffff\",\n            correctLevel : QRErrorCorrectLevel.H\n        };\n\n        if (typeof vOption === 'string') {\n            vOption\t= {\n                text : vOption\n            };\n        }\n\n        // Overwrites options\n        if (vOption) {\n            for (var i in vOption) {\n                this._htOption[i] = vOption[i];\n            }\n        }\n\n        if (typeof el == \"string\") {\n            el = document.getElementById(el);\n        }\n\n        if (this._htOption.useSVG) {\n            Drawing = svgDrawer;\n        }\n\n        this._android = _getAndroid();\n        this._el = el;\n        this._oQRCode = null;\n        this._oDrawing = new Drawing(this._el, this._htOption);\n\n        if (this._htOption.text) {\n            this.makeCode(this._htOption.text);\n        }\n    };\n\n    /**\n     * Make the _QRCode\n     *\n     * @param {String} sText link data\n     */\n    _QRCode.prototype.makeCode = function (sText) {\n        this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\n        this._oQRCode.addData(sText);\n        this._oQRCode.make();\n        this._el.title = sText;\n        this._oDrawing.draw(this._oQRCode);\n        this.makeImage();\n    };\n\n    /**\n     * Make the Image from Canvas element\n     * - It occurs automatically\n     * - Android below 3 doesn't support Data-URI spec.\n     *\n     * @private\n     */\n    _QRCode.prototype.makeImage = function () {\n        if (typeof this._oDrawing.makeImage == \"function\" && (!this._android || this._android >= 3)) {\n            this._oDrawing.makeImage();\n        }\n    };\n\n    /**\n     * Clear the _QRCode\n     */\n    _QRCode.prototype.clear = function () {\n        this._oDrawing.clear();\n    };\n\n    /**\n     * @name _QRCode.CorrectLevel\n     */\n    _QRCode.CorrectLevel = QRErrorCorrectLevel;\n})();\n\nexport function QRCode() {\n    return _QRCode.apply(this, arguments)\n}\n\nQRCode.prototype = _QRCode.prototype\nQRCode.CorrectLevel = _QRCode.CorrectLevel","// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\nfunction factory() {\n\n    if (!('WebSocket' in window)) {\n        return;\n    }\n\n    function ReconnectingWebSocket(url, protocols, options) {\n\n        // Default settings\n        var settings = {\n\n            /** Whether this instance should log debug messages. */\n            debug: false,\n\n            /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n            automaticOpen: true,\n\n            /** The number of milliseconds to delay before attempting to reconnect. */\n            reconnectInterval: 1000,\n            /** The maximum number of milliseconds to delay a reconnection attempt. */\n            maxReconnectInterval: 30000,\n            /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n            reconnectDecay: 1.5,\n\n            /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n            timeoutInterval: 2000,\n\n            /** The maximum number of reconnection attempts to make. Unlimited if null. */\n            maxReconnectAttempts: null,\n\n            /** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */\n            binaryType: 'blob'\n        }\n        if (!options) { options = {}; }\n\n        // Overwrite and define settings with options if they exist.\n        for (var key in settings) {\n            if (typeof options[key] !== 'undefined') {\n                this[key] = options[key];\n            } else {\n                this[key] = settings[key];\n            }\n        }\n\n        // These should be treated as read-only properties\n\n        /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n        this.url = url;\n\n        /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n        this.reconnectAttempts = 0;\n\n        /**\n         * The current state of the connection.\n         * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n         * Read only.\n         */\n        this.readyState = WebSocket.CONNECTING;\n\n        /**\n         * A string indicating the name of the sub-protocol the server selected; this will be one of\n         * the strings specified in the protocols parameter when creating the WebSocket object.\n         * Read only.\n         */\n        this.protocol = null;\n\n        // Private state variables\n\n        var self = this;\n        var ws;\n        var forcedClose = false;\n        var timedOut = false;\n        var eventTarget = document.createElement('div');\n\n        // Wire up \"on*\" properties as event handlers\n\n        eventTarget.addEventListener('open',       function(event) { self.onopen(event); });\n        eventTarget.addEventListener('close',      function(event) { self.onclose(event); });\n        eventTarget.addEventListener('connecting', function(event) { self.onconnecting(event); });\n        eventTarget.addEventListener('message',    function(event) { self.onmessage(event); });\n        eventTarget.addEventListener('error',      function(event) { self.onerror(event); });\n\n        // Expose the API required by EventTarget\n\n        this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n        this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);\n        this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n        /**\n         * This function generates an event that is compatible with standard\n         * compliant browsers and IE9 - IE11\n         *\n         * This will prevent the error:\n         * Object doesn't support this action\n         *\n         * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n         * @param s String The name that the event should use\n         * @param args Object an optional object that the event will use\n         */\n        function generateEvent(s, args) {\n        \tvar evt = document.createEvent(\"CustomEvent\");\n        \tevt.initCustomEvent(s, false, false, args);\n        \treturn evt;\n        };\n\n        this.open = function (reconnectAttempt) {\n            ws = new WebSocket(self.url, protocols || []);\n            ws.binaryType = this.binaryType;\n\n            if (reconnectAttempt) {\n                if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {\n                    return;\n                }\n            } else {\n                eventTarget.dispatchEvent(generateEvent('connecting'));\n                this.reconnectAttempts = 0;\n            }\n\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n                console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);\n            }\n\n            var localWs = ws;\n            var timeout = setTimeout(function() {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);\n                }\n                timedOut = true;\n                localWs.close();\n                timedOut = false;\n            }, self.timeoutInterval);\n\n            ws.onopen = function(event) {\n                clearTimeout(timeout);\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onopen', self.url);\n                }\n                self.protocol = ws.protocol;\n                self.readyState = WebSocket.OPEN;\n                self.reconnectAttempts = 0;\n                var e = generateEvent('open');\n                e.isReconnect = reconnectAttempt;\n                reconnectAttempt = false;\n                eventTarget.dispatchEvent(e);\n            };\n\n            ws.onclose = function(event) {\n                clearTimeout(timeout);\n                ws = null;\n                if (forcedClose) {\n                    self.readyState = WebSocket.CLOSED;\n                    eventTarget.dispatchEvent(generateEvent('close'));\n                } else {\n                    self.readyState = WebSocket.CONNECTING;\n                    var e = generateEvent('connecting');\n                    e.code = event.code;\n                    e.reason = event.reason;\n                    e.wasClean = event.wasClean;\n                    eventTarget.dispatchEvent(e);\n                    if (!reconnectAttempt && !timedOut) {\n                        if (self.debug || ReconnectingWebSocket.debugAll) {\n                            console.debug('ReconnectingWebSocket', 'onclose', self.url);\n                        }\n                        eventTarget.dispatchEvent(generateEvent('close'));\n                    }\n\n                    var timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);\n                    setTimeout(function() {\n                        self.reconnectAttempts++;\n                        self.open(true);\n                    }, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\n                }\n            };\n            ws.onmessage = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);\n                }\n                var e = generateEvent('message');\n                e.data = event.data;\n                eventTarget.dispatchEvent(e);\n            };\n            ws.onerror = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onerror', self.url, event);\n                }\n                eventTarget.dispatchEvent(generateEvent('error'));\n            };\n        }\n\n        // Whether or not to create a websocket upon instantiation\n        if (this.automaticOpen == true) {\n            this.open(false);\n        }\n\n        /**\n         * Transmits data to the server over the WebSocket connection.\n         *\n         * @param data a text string, ArrayBuffer or Blob to send to the server.\n         */\n        this.send = function(data) {\n            if (ws) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'send', self.url, data);\n                }\n                return ws.send(data);\n            } else {\n                throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\n            }\n        };\n\n        /**\n         * Closes the WebSocket connection or connection attempt, if any.\n         * If the connection is already CLOSED, this method does nothing.\n         */\n        this.close = function(code, reason) {\n            // Default CLOSE_NORMAL code\n            if (typeof code == 'undefined') {\n                code = 1000;\n            }\n            forcedClose = true;\n            if (ws) {\n                ws.close(code, reason);\n            }\n        };\n\n        /**\n         * Additional public API method to refresh the connection if still open (close, re-open).\n         * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n         */\n        this.refresh = function() {\n            if (ws) {\n                ws.close();\n            }\n        };\n    }\n\n    /**\n     * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n     * this indicates that the connection is ready to send and receive data.\n     */\n    ReconnectingWebSocket.prototype.onopen = function(event) {};\n    /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n    ReconnectingWebSocket.prototype.onclose = function(event) {};\n    /** An event listener to be called when a connection begins being attempted. */\n    ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n    /** An event listener to be called when a message is received from the server. */\n    ReconnectingWebSocket.prototype.onmessage = function(event) {};\n    /** An event listener to be called when an error occurs. */\n    ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n    /**\n     * Whether all instances of ReconnectingWebSocket should log debug messages.\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n     */\n    ReconnectingWebSocket.debugAll = false;\n\n    ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n    ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n    ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n    ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n    return ReconnectingWebSocket;\n};\n\nexport const ReconnectingWebSocket = factory()\n","import {ReconnectingWebSocket} from \"../lib/reconnecting-websocket.js\"\nimport {getTransaction, WS_BASE_URL} from \"./chain.js\"\n\nconst WS_URL = WS_BASE_URL + \"streams/valid_transactions\"\n\nconst listeners = new Map()\nlet websocket = null\n\nfunction initWebSocket()\n{\n    websocket = new ReconnectingWebSocket(WS_URL)\n    websocket.onmessage = wsMessageHandler\n}\n\nfunction wsMessageHandler(message) {\n    const transactionRef = JSON.parse(message.data)\n    const interestedListeners = listeners.get(transactionRef.asset_id)\n    if (!interestedListeners) {\n        return\n    }\n    getTransaction(transactionRef.transaction_id).then(transaction => {\n        interestedListeners.forEach(listener => {\n            listener.handler(transaction)\n        })\n    })\n}\n\nfunction addListener(listener) {\n    listener.assetIds.forEach(assetId => {\n        listeners.has(assetId) || listeners.set(assetId, [])\n        listeners.get(assetId).push(listener)\n    })\n    return listener\n}\n\nexport function listenForTransactions(assetIds, handler) {\n    if (!websocket) initWebSocket()\n    return addListener({\n        assetIds,\n        handler,\n        id: String(Date.now()) + Math.random(),\n    })\n}\n\nexport function clearListener(listener) {\n    listener.assetIds.forEach(assetId => {\n        const idx = listeners.get(assetId).indexOf(listener)\n        if (idx !== -1) {\n            listeners.get(assetId).splice(idx, 1)\n        }\n    })\n}","import {app} from \"../main.js\"\nimport {createIdentity} from \"../model/chain.js\"\nimport {selectedToken,giveTokens} from \"../model/token.js\"\nimport {QRCode} from \"../lib/qrcode.js\";\nimport {clearListener, listenForTransactions} from \"../model/chainevents.js\";\n\nfunction createVisitor() {\n    const visitor = createIdentity()\n    return giveTokens(selectedToken, visitor.publicKey, 5 * 5).then(res => {\n        return visitor\n    })\n}\n\nfunction createVisitorQR(visitor) {\n    const target =  location.origin + location.pathname + \"?keys=\" + visitor.publicKey + \",\" + visitor.privateKey + \"#keyload\"\n    console.log(target)\n    document.getElementById(\"qrcode\").innerHTML = '';\n    const qrcode = new QRCode(document.getElementById(\"qrcode\"), {\n        text: target,\n        width: 384,\n        height: 384,\n        colorDark : \"#000000\",\n        colorLight : \"#ffffff\",\n        correctLevel : QRCode.CorrectLevel.H\n    })\n}\n\nexport const EntrancePage = Vue.component('entrance-page', {\n    data: function () {\n        return {\n            selectedToken,\n            txListeners: [],\n            lastVisitorPubKey: null\n        }\n    },\n    created: function() {\n        this.txListeners.push(listenForTransactions([selectedToken.id], (tx) => {\n            if (tx.inputs[0].owners_before[0] == this.lastVisitorPubKey) {\n                this.newVisitor()\n            }\n        }))\n    },\n    beforeDestroy: function() {\n        this.txListeners.forEach(clearListener)\n    },\n    methods: {\n        newVisitor: function() {\n            createVisitor().then(visitor => {\n                createVisitorQR(visitor)\n                this.lastVisitorPubKey = visitor.publicKey\n            })\n        },\n        host: function() {\n            app.route(\"\")\n        }\n    },\n    template: `\n  <v-content>\n    <v-container fluid>\n<div>\n    <h3>Generate new code for every visitor!</h3>\n    <div v-if=\"!selectedToken\">No token found</div>\n    <v-btn v-if=\"selectedToken\" @click=\"newVisitor()\">New Visitor</v-btn>\n    <div id=\"qrcode\" style=\"margin: 20px\"></div>\n    <v-btn @click=\"host()\">Back to Host View</v-btn>\n</div>\n`\n})","import {selectedToken} from \"../model/token.js\";\nimport {findPresentations, findRunningPresentation, startPresentation} from \"../model/presentation.js\";\nimport {app} from \"../main.js\";\nimport {clearListener, listenForTransactions} from \"../model/chainevents.js\";\n\nexport const PresentationList = Vue.component('presentation-list', {\n    props: {\n        host: Boolean\n    },\n    data: function () {\n        return {\n            presentations: [],\n            runningPresentation: null\n        }\n    },\n    methods: {\n        update: function() {\n            if (selectedToken) {\n                findPresentations().then(presentations => {\n                    this.presentations = presentations\n                }).then(() => {\n                    findRunningPresentation().then(running => {\n                        this.runningPresentation = running\n                    })\n                })\n            }\n        },\n        start: function(presentation) {\n            startPresentation(presentation).then(() => {\n                app.route(\"timer\")\n            })\n        }\n    },\n    created: function() {\n        this.txListeners = [];\n        this.update()\n        this.txListeners.push(listenForTransactions([selectedToken.id], this.update.bind(this)))\n        findPresentations().then(presentations => {\n            this.txListeners.push(listenForTransactions(presentations.map(p => p.id), this.update.bind(this)))\n        })\n    },\n    beforeDestroy: function() {\n        this.txListeners.forEach(clearListener)\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div>\n            <div v-if=\"runningPresentation\">Running presentation:\n                <div><b>{{ runningPresentation.asset.data.title }}</b> - {{ runningPresentation.asset.data.presenterName }}</div> \n                <div>{{ runningPresentation.asset.data.abstract }}</div>\n            </div>\n            --\n            <ul>\n                <li v-for=\"pres in presentations\">\n                    <div><b>{{ pres.asset.data.title }}</b> - {{ pres.asset.data.presenterName }}</div> \n                    <div>{{ pres.asset.data.abstract }}</div>\n                    <v-btn v-if=\"host\" @click=\"start(pres)\">Start</v-btn>\n                </li>\n            </ul>\n    </div>\n    </v-container>\n</v-content>\n    `\n})\n","import {selectedToken,getOwnedTokens,selectTokenById} from \"../model/token.js\"\nimport {setMe, me, getTransaction} from \"../model/chain.js\"\nimport {PresentationList} from \"./presentationlist.js\"\nimport {voteForRunning} from \"../model/presentation.js\";\n\nexport const VisitorPage = Vue.component('visitor-page', {\n    data: function () {\n        return {\n            selectedToken,\n            me: null,\n            tokens: null,\n            voteInProgress: false,\n        }\n    },\n    created: function() {\n        this.update()\n    },\n    methods: {\n        vote: function() {\n            this.voteInProgress = true\n            voteForRunning()\n                .finally(() => this.voteInProgress = false)\n                .then(this.update.bind(this))\n        },\n        update: function() {\n            this.me = me()\n            getOwnedTokens(me().publicKey).then(ownedTokens => {\n                this.tokens = ownedTokens\n                return selectTokenById(this.tokens.transactions[0].asset.id)\n            })\n        },\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div v-if=\"tokens\">Tokens: {{tokens.total}}</div>\n         <presentation-list></presentation-list>\n        <v-btn v-if=\"!voteInProgress\" @click=\"vote()\">Vote</v-btn>\n    </v-container>\n</v-content>\n`\n})","import {app} from \"../main.js\";\nimport {autoGrant, findRunningPresentation, grantTime} from \"../model/presentation.js\";\nimport {getChainTimeMillis} from \"../model/chain.js\";\n\nfunction twoDigit(num) {\n    return num < 10 ? \"0\" + num : \"\" + num\n}\n\nfunction minsecs(totalsecs) {\n    const mins = Math.floor(totalsecs / 60)\n    const secs = totalsecs - mins * 60\n    return twoDigit(mins) + \":\" + twoDigit(secs)\n}\n\nexport const TimerPage = Vue.component('timer-page', {\n    data: function () {\n        return {\n            _interval: null,\n            startTS: 0,\n            grantedLength: 0,\n            runningForSecs: 0,\n            presentation: null\n        }\n    },\n    computed: {\n        timer: function() {\n            return minsecs(this.runningForSecs)\n        },\n        granted: function() {\n            return minsecs(this.grantedLength)\n        },\n        runnedOut: function() {\n            return this.grantedLength + 3 < this.runningForSecs\n        }\n    },\n    created: function() {\n        this._interval = setInterval(this.step.bind(this), 1000)\n        this.update()\n    },\n    beforeDestroy: function() {\n        clearInterval(this._interval)\n    },\n    methods: {\n        step: function() {\n            this.runningForSecs = getChainTimeMillis() - this.startTS\n            if (this.runningForSecs === this.grantedLength) {\n                this.autoGrant()\n            }\n        },\n        host: function () {\n            app.route(\"\")\n        },\n        autoGrant: function() {\n            autoGrant(this.presentation, 2).then(this.update.bind(this))\n        },\n        grantTime: function() {\n            if (this.presentation) {\n                grantTime(this.presentation).then(this.update.bind(this))\n            }\n        },\n        update: function() {\n            findRunningPresentation().then(presentation => {\n                this.presentation = presentation\n                this.grantedLength = presentation.metadata.grantedLength;\n                this.startTS = presentation.metadata.startTS\n            })\n        }\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div>\n            <div class=\"display-4\"><div v-bind:class=\"{ runnedOut: runnedOut }\">{{timer}}</div></div>\n            <div>Granted: {{granted}}</div>\n            <v-btn @click=\"host()\">Host view</v-btn>\n        </div>\n    </v-container>\n</v-content>\n`\n})","import {selectedToken, getOwnedTokens, selectTokenById, transferAllToNewIdentity} from \"../model/token.js\"\nimport {setMe, me, getTransaction} from \"../model/chain.js\"\n\nexport const KeyLoadPage = Vue.component('keyload-page', {\n    data: function () {\n        return {\n            selectedToken,\n            me: null,\n            tokens: null,\n            noTokensFound: false,\n        }\n    },\n    created: function() {\n        this.update()\n    },\n    methods: {\n        update: function() {\n            this.me = me()\n            getOwnedTokens(me().publicKey).then(ownedTokens => {\n                this.tokens = ownedTokens\n                if (!ownedTokens.total) {\n                    throw \"Zero tokens!\"\n                }\n                return selectTokenById(this.tokens.transactions[0].asset.id)\n                    .then(transferAllToNewIdentity).then(() => {\n                        document.location.href = document.location.pathname + '#visitor'\n                    })\n            }).catch(() => this.noTokensFound = true)\n        },\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div v-if=\"tokens && !noTokensFound\">Creating identity and transferrig {{tokens.total}} tokens...</div>\n        <div v-if=\"noTokensFound\">No tokens found, maybe QR code was already used</div>\n    </v-container>\n</v-content>\n`\n})","import {HostPage} from \"./view/hostpage.js\"\nimport {EntrancePage} from \"./view/entrancepage.js\"\nimport {VisitorPage} from \"./view/visitorpage.js\"\nimport {TimerPage} from \"./view/timerpage.js\"\nimport {KeyLoadPage} from \"./view/keyloadpage.js\";\n\nconst NotFound = { template: '<p>Page not found</p>' }\n\nconst routes = {\n    '': HostPage,\n    'visitor': VisitorPage,\n    'entrance': EntrancePage,\n    'timer': TimerPage,\n    'keyload': KeyLoadPage\n}\n\nexport const app = new Vue({\n    el: '#app',\n    data: {\n        currentRoute: window.location.hash.substr(1)\n    },\n    methods: {\n        route: function(newRoute) {\n            history.pushState(null, \"\", '#' + newRoute)\n            this.currentRoute = newRoute\n        }\n    },\n    computed: {\n        ViewComponent () {\n            return routes[this.currentRoute] || NotFound\n        }\n    },\n    render (h) { return h(this.ViewComponent) }\n})\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}