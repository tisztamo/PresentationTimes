{"version":3,"sources":["model/chain.js","model/token.js","model/presentation.js","lib/qrcode.js","view/qr.js","view/hostpage.js","lib/reconnecting-websocket.js","model/chainevents.js","view/entrancepage.js","view/presentationlist.js","view/visitorpage.js","view/timerpage.js","view/keyloadpage.js","view/keyloadresult.js","main.js","../../bin/node-v10.14.1-linux-x64/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["API_BASE_URL","WS_BASE_URL","conn","BigchainDB","Connection","_me","loadOrCreateMe","me","setMe","newMe","localStorage","setItem","JSON","stringify","recreateMe","createIdentity","Ed25519Keypair","document","location","search","startsWith","keys","substr","length","split","publicKey","privateKey","tokens","storedMe","getItem","parse","getTransaction","txId","cached","Promise","resolve","then","tx","id","simpleOutput","amount","Transaction","makeOutput","makeEd25519Condition","postTransaction","txSigned","signTransaction","postTransactionCommit","listOutputs","searchAssets","searchMetadata","populateWithAsset","transferTx","asset","assetTx","filetime_to_unixtimems","ft","epoch_diff","rate_diff","Math","round","syncedTS","serverTS","clientTS","synchChainTime","beforeTS","Date","now","fetch","response","json","data","Number","currentFileTime","getChainSynchedTS","getChainTimeMillis","selectedToken","tokenLaunch","nTokens","creator","makeCreateTransaction","token","number_tokens","datetime","toString","res","selectToken","tokensLeft","createTx","findSourceTxForAmount","txs","find","outputs","ownerOutputIdx","giveTokens","receiverPubKey","metadata","getOwnedTokens","ownedTokens","sourceTx","transactions","sourceAmount","console","error","remaining","push","makeTransferTransaction","output_index","all","map","output","transaction_id","total","i","ownerOutput","transferAllToNewIdentity","saveSelectedToken","selectTokenById","tokenId","inputs","owners_before","dropSelectedToken","removeItem","loadSelectedToken","PRESENTATION_STARTED","PRESENTATION","findPresentations","assets","filter","createPresentation","presenterName","title","abstract","presenter","presentation","type","presenterPublicKey","startPresentation","grantedLength","timeStamp","state","startTS","ts","grantTime","usedTokens","collectedVotesDuringLastPeriod","autoGrant","neededNewTokens","log","String","findRunningPresentation","filtered","found","maxTS","Infinity","voteForRunning","running","alert","_QRCode","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","code","charCodeAt","Array","prototype","concat","apply","unshift","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","Error","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","y","x","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","_isSupportCanvas","CanvasRenderingContext2D","_getAndroid","android","sAgent","navigator","userAgent","aMat","match","parseFloat","svgDrawer","Drawing","el","htOption","_el","_htOption","draw","oQRCode","nCount","nWidth","width","nHeight","height","clear","makeSVG","tag","attrs","createElementNS","k","hasOwnProperty","setAttribute","svg","colorLight","setAttributeNS","appendChild","colorDark","child","hasChildNodes","removeChild","lastChild","useSVG","documentElement","tagName","toLowerCase","aHTML","innerHTML","join","elTable","childNodes","nLeftMarginTable","offsetWidth","nTopMarginTable","offsetHeight","style","margin","_onMakeImage","_elImage","src","_elCanvas","toDataURL","display","_safeSetDataURI","fSuccess","fFail","self","_fFail","_fSuccess","_bSupportDataURI","createElement","fOnError","call","fOnSuccess","onabort","onerror","onload","_bIsPainted","_android","_oContext","getContext","alt","nRoundedWidth","nRoundedHeight","bIsDark","nLeft","nTop","strokeStyle","lineWidth","fillStyle","fillRect","strokeRect","ceil","makeImage","isPainted","clearRect","nNumber","_getTypeNumber","sText","nCorrectLevel","nType","_getUTF8Length","len","nLimit","replacedText","encodeURI","replace","vOption","correctLevel","text","getElementById","_oQRCode","_oDrawing","makeCode","CorrectLevel","QRCode","arguments","createQR","identity","target","origin","pathname","qrcode","HostPage","Vue","component","methods","createToken","t","entrance","app","route","timer","newIdentity","window","confirm","reload","addPresentation","pres","clone","template","factory","ReconnectingWebSocket","url","protocols","options","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","readyState","WebSocket","CONNECTING","protocol","ws","forcedClose","timedOut","eventTarget","addEventListener","event","onopen","onclose","onconnecting","onmessage","bind","removeEventListener","dispatchEvent","generateEvent","s","args","evt","createEvent","initCustomEvent","open","reconnectAttempt","debugAll","localWs","timeout","setTimeout","close","clearTimeout","OPEN","isReconnect","CLOSED","reason","wasClean","pow","send","refresh","CLOSING","WS_URL","listeners","Map","websocket","initWebSocket","wsMessageHandler","message","transactionRef","interestedListeners","asset_id","transaction","forEach","listener","handler","addListener","assetIds","assetId","has","set","listenForTransactions","random","clearListener","idx","indexOf","splice","createVisitor","visitor","EntrancePage","txListeners","lastVisitorPubKey","created","newVisitor","beforeDestroy","host","PresentationList","props","Boolean","Function","presentations","runningPresentation","update","start","play","vote","$emit","p","VisitorPage","voteInProgress","finally","twoDigit","minsecs","totalsecs","mins","secs","TimerPage","_interval","runningForSecs","computed","granted","runnedOut","setInterval","step","clearInterval","result","KeyLoadPage","noTokensFound","href","catch","KeyLoadResultPage","NotFound","routes","currentRoute","hash","newRoute","history","pushState","ViewComponent","render","h","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","hostname","handled","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","v","hmrAcceptRun","removeErrorOverlay","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","parents","dep","isArray","deps","cache","some","cb"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["export const API_BASE_URL = 'https://test.bigchaindb.com/api/v1/'\nexport const WS_BASE_URL = 'wss://test.bigchaindb.com:443/api/v1/'\n\nlet conn = new BigchainDB.Connection(API_BASE_URL)\nlet _me = null;\nloadOrCreateMe()\n\nexport function me() {\n    return _me\n}\n\nexport function setMe(newMe) {\n    _me = newMe\n    localStorage.setItem(\"me\", JSON.stringify(newMe))\n}\n\nexport function recreateMe() {\n    setMe(createIdentity())\n}\n\nexport function createIdentity() {\n    return new BigchainDB.Ed25519Keypair()\n}\n\nfunction loadOrCreateMe() {\n    if (document && document.location && document.location.search.startsWith(\"?keys=\")) {\n        const keys = document.location.search.substr(\"?keys=\".length).split(\",\")\n        setMe({\n            publicKey: keys[0],\n            privateKey: keys[1],\n            tokens: null\n        })\n        return\n    }\n    const storedMe = localStorage.getItem(\"me\")\n    if (storedMe) {\n        _me = JSON.parse(storedMe)\n    } else {\n        recreateMe()\n    }\n}\n\nexport function getTransaction(txId) {\n    const cached = localStorage.getItem(\"txcache_\" + txId)\n    if (cached) {\n        return Promise.resolve(JSON.parse(cached))\n    }\n    return conn.getTransaction(txId).then(tx => {\n        if (tx && tx.id) {\n            localStorage.setItem(\"txcache_\" + tx.id, JSON.stringify(tx))\n        }\n        return tx\n    })\n}\n\nexport function simpleOutput(publicKey, amount) {\n    return BigchainDB.Transaction.makeOutput(\n        BigchainDB.Transaction.makeEd25519Condition(publicKey), amount)\n}\n\nexport function postTransaction(tx) {\n    const txSigned = BigchainDB.Transaction.signTransaction(tx, me().privateKey)\n    return conn.postTransactionCommit(txSigned)\n}\n\nexport function listOutputs(publicKey) {\n    return conn.listOutputs(publicKey, false)\n}\n\nexport function searchAssets(search) {\n    return conn.searchAssets(search)\n}\n\nexport function searchMetadata(search) {\n    return conn.searchMetadata(search)\n}\n\nexport function populateWithAsset(transferTx) {\n    if (!transferTx) {\n        return null\n    }\n    return getTransaction(transferTx.asset.id).then(assetTx => {\n        assetTx.asset.id = transferTx.asset.id\n        transferTx.asset = assetTx.asset\n        return transferTx\n    })\n}\n\nfunction filetime_to_unixtimems(ft) {\n    const epoch_diff = 116444736000000000;\n    const rate_diff = 10000;\n    return Math.round((ft - epoch_diff) / rate_diff);\n}\n\nconst syncedTS = {\n    serverTS: 0,\n    clientTS: 0\n}\n\nexport function synchChainTime() {\n    const beforeTS = Date.now()\n    let clientTS = 0\n    fetch(\"http://worldclockapi.com/api/json/utc/now\").then(response => {\n        clientTS = Math.round((Date.now() + beforeTS) / 2)\n        return response.json()\n    }).then(data => {\n        syncedTS.serverTS = filetime_to_unixtimems(Number(data.currentFileTime))\n        syncedTS.clientTS = clientTS\n    })\n}\nsynchChainTime()\n\nexport function getChainSynchedTS() {\n    return Date.now() - syncedTS.clientTS + syncedTS.serverTS\n}\n\nexport function getChainTimeMillis() {\n    return Math.round(getChainSynchedTS() / 1000)\n}","import {\n    me,\n    postTransaction,\n    getTransaction,\n    listOutputs,\n    createIdentity,\n    setMe,\n    simpleOutput\n} from \"./chain.js\"\n\nexport let selectedToken = null\n\nexport function tokenLaunch(nTokens=1000000) {\n    const creator = me()\n    const tx = BigchainDB.Transaction.makeCreateTransaction({\n            token: 'BPNT Time Token',\n            number_tokens: nTokens\n        },\n        {\n            datetime: new Date().toString()\n        },\n        [simpleOutput(creator.publicKey, nTokens.toString())],\n        creator.publicKey\n    )\n\n    return postTransaction(tx).then(res => {\n        selectToken({\n            id: res.id,\n            tokensLeft: nTokens,\n            creator: creator,\n            createTx: res,\n        })\n        return selectedToken\n    })\n}\n\nfunction findSourceTxForAmount(txs, amount) {\n    return txs.find(tx => Number(tx.outputs[tx.ownerOutputIdx].amount) >= amount)\n}\n\nexport function giveTokens(token, receiverPubKey, amount, metadata = null) {\n   return getOwnedTokens(me().publicKey).then(ownedTokens => {\n       const sourceTx = findSourceTxForAmount(ownedTokens.transactions, amount)\n       const sourceAmount = Number(sourceTx.outputs[sourceTx.ownerOutputIdx].amount)\n       if (sourceAmount < amount) {\n           console.error(\"Source transaction does not contain \" + amount + \" tokens\", sourceTx)\n           return\n       }\n       const remaining = sourceAmount - amount;\n       const outputs = []\n       if (remaining > 0) {\n           outputs.push(simpleOutput(me().publicKey, (remaining).toString()))\n       }\n       outputs.push(simpleOutput(receiverPubKey, amount.toString()))\n       const tx = BigchainDB.Transaction.makeTransferTransaction(\n            [{\n                tx: sourceTx,// TODO: handle multiple unspent outputs (if needed)\n                output_index: sourceTx.ownerOutputIdx\n            }],\n            outputs,\n            metadata\n        )\n\n        return postTransaction(tx).then(tx => {\n            token.tokensLeft -= amount\n            selectToken(token)\n            return tx\n        })\n    })\n}\n\n//TODO filter by token type\nexport function getOwnedTokens(publicKey) {\n    return listOutputs(publicKey).then(outputs => {\n        return Promise.all(outputs.map(output => getTransaction(output.transaction_id))).then(txs => {\n            let total = 0;\n            for (let i = 0; i < outputs.length; i++) {\n                txs[i].ownerOutputIdx = outputs[i].output_index\n                txs[i].ownerOutput = txs[i].outputs[outputs[i].output_index]\n                total += Number(txs[i].ownerOutput.amount)\n            }\n            return {\n                total,\n                transactions: txs\n            }\n        })\n    })\n}\nexport function transferAllToNewIdentity() {\n    const newMe = createIdentity()\n    return getOwnedTokens(me().publicKey).then(ownedTokens => {\n       return giveTokens(selectedToken, newMe.publicKey, ownedTokens.total).then(() => {\n           setMe(newMe)\n       })\n    })\n}\n\nexport function selectToken(token) {\n    selectedToken = token\n    saveSelectedToken()\n    return token\n}\n\nexport function selectTokenById(tokenId) {\n    return getTransaction(tokenId).then(createTx => {\n        return selectToken({\n            createTx,\n            id: createTx.id,\n            creator: { publicKey: createTx.inputs[0].owners_before[0] },\n            tokensLeft: 'Unknown'\n        })\n    })\n}\n\nfunction saveSelectedToken() {\n    localStorage.setItem(\"currentToken\", JSON.stringify(selectedToken))\n}\n\nexport function dropSelectedToken() {\n    localStorage.removeItem(\"currentToken\")\n}\n\nfunction loadSelectedToken() {\n    const token = localStorage.getItem(\"currentToken\")\n    if (token) {\n        selectToken(JSON.parse(token))\n    }\n}\n\nloadSelectedToken()","import {getOwnedTokens, giveTokens, selectedToken} from \"./token.js\"\nimport {\n    createIdentity,\n    me,\n    postTransaction,\n    searchAssets,\n    getTransaction,\n    searchMetadata,\n    populateWithAsset,\n    getChainTimeMillis, simpleOutput\n} from \"./chain.js\"\n\nconst PRESENTATION_STARTED= \"presentation_started\"\nconst PRESENTATION = \"presentation\"\n\nexport function findPresentations() {\n    return searchAssets(PRESENTATION).then(assets => {\n        return Promise.all(assets.filter(asset => {\n            return asset.data.token === selectedToken.id\n        }).map(asset => getTransaction(asset.id)))\n    })\n}\n\nexport function createPresentation(presenterName, title, abstract) {\n    const presenter = createIdentity()\n    const creator = me()\n    const presentation = {\n        type: PRESENTATION,\n        presenterName,\n        title,\n        abstract,\n        presenterPublicKey: presenter.publicKey,\n        token: selectedToken.id,\n    }\n    const tx = BigchainDB.Transaction.makeCreateTransaction(\n        presentation,\n        {\n            datetime: new Date().toString()\n        },\n        [simpleOutput(creator.publicKey)],\n        creator.publicKey\n    )\n    return postTransaction(tx)\n}\n\nexport function startPresentation(presentation, grantedLength = 240) {\n    const timeStamp = getChainTimeMillis()\n    const tx = BigchainDB.Transaction.makeTransferTransaction(\n        [{tx: presentation, output_index: 0}],\n        [simpleOutput(me().publicKey)],\n        {\n            state: PRESENTATION_STARTED,\n            startTS: timeStamp,\n            ts: timeStamp,\n            token: presentation.asset.data.token,\n            grantedLength\n        }\n    )\n    return postTransaction(tx)\n}\n\nexport function grantTime(presentation, grantedLength = 20, usedTokens = 0) {\n    const timeStamp =getChainTimeMillis()\n    const tx = BigchainDB.Transaction.makeTransferTransaction(\n        [{tx: presentation, output_index: 0}],\n        [simpleOutput(me().publicKey)],\n        {\n            state: PRESENTATION_STARTED,\n            startTS: presentation.metadata.startTS,\n            ts: timeStamp,\n            token: presentation.asset.data.token,\n            grantedLength: Number(presentation.metadata.grantedLength) + Number(grantedLength),\n            usedTokens\n        }\n    )\n    return postTransaction(tx)\n}\n\nexport function collectedVotesDuringLastPeriod(presentation) {\n    const presenterPublicKey = presentation.asset.data.presenterPublicKey\n    return getOwnedTokens(presenterPublicKey).then(tokens => {\n        return tokens.total - (presentation.metadata.usedTokens || 0)\n    })\n}\n\nexport function autoGrant(presentation, neededNewTokens = 1, grantedLength = 60) {\n    return collectedVotesDuringLastPeriod(presentation).then(tokens => {\n        if (tokens >= neededNewTokens) {\n            console.log(\"Granting \" + grantedLength + \" secs on \" + tokens + \" votes.\")\n            return grantTime(presentation, grantedLength, tokens + (presentation.metadata.usedTokens || 0))\n        } else {\n            console.log(String(tokens) + \" votes are not enough...\")\n        }\n    })\n}\n\nexport function findRunningPresentation() {\n    return searchMetadata(PRESENTATION_STARTED).then(txs => {\n        const filtered = txs.filter(tx => {\n            return tx.metadata.token === selectedToken.id\n        })\n        let found = null\n        let maxTS = -Infinity\n        for (let i = 0; i < filtered.length; i++) {\n            if (filtered[i].metadata.ts > maxTS) {\n                found = filtered[i]\n                maxTS = filtered[i].metadata.ts\n            }\n        }\n        return found && maxTS > getChainTimeMillis() - found.metadata.grantedLength ? getTransaction(found.id) : null\n    }).then(populateWithAsset)\n}\n\nexport function voteForRunning() {\n    return findRunningPresentation().then(running => {\n        if (!running) {\n            alert(\"No active presentation found\")\n            return\n        }\n        return giveTokens(selectedToken, running.asset.data.presenterPublicKey, 1)\n    })\n}","\nvar _QRCode;\n\n(function () {\n    //---------------------------------------------------------------------\n    // _QRCode for JavaScript\n    //\n    // Copyright (c) 2009 Kazuhiko Arase\n    //\n    // URL: http://www.d-project.com/\n    //\n    // Licensed under the MIT license:\n    //   http://www.opensource.org/licenses/mit-license.php\n    //\n    // The word \"QR Code\" is registered trademark of\n    // DENSO WAVE INCORPORATED\n    //   http://www.denso-wave.com/qrcode/faqpatent-e.html\n    //\n    //---------------------------------------------------------------------\n    function QR8bitByte(data) {\n        this.mode = QRMode.MODE_8BIT_BYTE;\n        this.data = data;\n        this.parsedData = [];\n\n        // Added to support UTF-8 Characters\n        for (var i = 0, l = this.data.length; i < l; i++) {\n            var byteArray = [];\n            var code = this.data.charCodeAt(i);\n\n            if (code > 0x10000) {\n                byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n                byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n                byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[3] = 0x80 | (code & 0x3F);\n            } else if (code > 0x800) {\n                byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n                byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[2] = 0x80 | (code & 0x3F);\n            } else if (code > 0x80) {\n                byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n                byteArray[1] = 0x80 | (code & 0x3F);\n            } else {\n                byteArray[0] = code;\n            }\n\n            this.parsedData.push(byteArray);\n        }\n\n        this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n        if (this.parsedData.length != this.data.length) {\n            this.parsedData.unshift(191);\n            this.parsedData.unshift(187);\n            this.parsedData.unshift(239);\n        }\n    }\n\n    QR8bitByte.prototype = {\n        getLength: function (buffer) {\n            return this.parsedData.length;\n        },\n        write: function (buffer) {\n            for (var i = 0, l = this.parsedData.length; i < l; i++) {\n                buffer.put(this.parsedData[i], 8);\n            }\n        }\n    };\n\n    function QRCodeModel(typeNumber, errorCorrectLevel) {\n        this.typeNumber = typeNumber;\n        this.errorCorrectLevel = errorCorrectLevel;\n        this.modules = null;\n        this.moduleCount = 0;\n        this.dataCache = null;\n        this.dataList = [];\n    }\n\n    QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\n            return this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\n            this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\n            if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\n            this.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\n            return pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\n            return qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\n            this.modules[r][6]=(r%2==0);}\n            for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\n                this.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\n            for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\n            for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\n            for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\n            this.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\n            var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\n            this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\n            row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\n        var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\n        if(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n            +buffer.getLengthInBits()\n            +\">\"\n            +totalDataCount*8\n            +\")\");}\n        if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\n        while(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\n        while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\n            buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\n            buffer.put(QRCodeModel.PAD1,8);}\n        return QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\n        offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\n        var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\n        var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\n        for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\n        return data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\n            return((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\n            return(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\n            return digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\n            return a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\n            for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\n                if(r==0&&c==0){continue;}\n                if(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\n            if(sameCount>5){lostPoint+=(3+sameCount-5);}}}\n            for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\n            for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\n            for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\n            var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\n            var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\n            return QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\n            while(n>=256){n-=255;}\n            return QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\n    for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\n    for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\n    function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\n        var offset=0;while(offset<num.length&&num[offset]==0){offset++;}\n        this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\n    QRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\n            return new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\n            var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\n            for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\n            return new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\n    QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\n        var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\n        return list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\n    QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\n            if(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\n            this.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n    function _isSupportCanvas() {\n        return typeof CanvasRenderingContext2D != \"undefined\";\n    }\n\n    // android 2.x doesn't support Data-URI spec\n    function _getAndroid() {\n        var android = false;\n        var sAgent = navigator.userAgent;\n\n        if (/android/i.test(sAgent)) { // android\n            android = true;\n            var aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i);\n\n            if (aMat && aMat[1]) {\n                android = parseFloat(aMat[1]);\n            }\n        }\n\n        return android;\n    }\n\n    var svgDrawer = (function() {\n\n        var Drawing = function (el, htOption) {\n            this._el = el;\n            this._htOption = htOption;\n        };\n\n        Drawing.prototype.draw = function (oQRCode) {\n            var _htOption = this._htOption;\n            var _el = this._el;\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = Math.floor(_htOption.width / nCount);\n            var nHeight = Math.floor(_htOption.height / nCount);\n\n            this.clear();\n\n            function makeSVG(tag, attrs) {\n                var el = document.createElementNS('http://www.w3.org/2000/svg', tag);\n                for (var k in attrs)\n                    if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\n                return el;\n            }\n\n            var svg = makeSVG(\"svg\" , {'viewBox': '0 0 ' + String(nCount) + \" \" + String(nCount), 'width': '100%', 'height': '100%', 'fill': _htOption.colorLight});\n            svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n            _el.appendChild(svg);\n\n            svg.appendChild(makeSVG(\"rect\", {\"fill\": _htOption.colorLight, \"width\": \"100%\", \"height\": \"100%\"}));\n            svg.appendChild(makeSVG(\"rect\", {\"fill\": _htOption.colorDark, \"width\": \"1\", \"height\": \"1\", \"id\": \"template\"}));\n\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    if (oQRCode.isDark(row, col)) {\n                        var child = makeSVG(\"use\", {\"x\": String(col), \"y\": String(row)});\n                        child.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", \"#template\")\n                        svg.appendChild(child);\n                    }\n                }\n            }\n        };\n        Drawing.prototype.clear = function () {\n            while (this._el.hasChildNodes())\n                this._el.removeChild(this._el.lastChild);\n        };\n        return Drawing;\n    })();\n\n    var useSVG = document.documentElement.tagName.toLowerCase() === \"svg\";\n\n    // Drawing in DOM by using Table tag\n    var Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? (function () {\n        var Drawing = function (el, htOption) {\n            this._el = el;\n            this._htOption = htOption;\n        };\n\n        /**\n         * Draw the _QRCode\n         *\n         * @param {_QRCode} oQRCode\n         */\n        Drawing.prototype.draw = function (oQRCode) {\n            var _htOption = this._htOption;\n            var _el = this._el;\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = Math.floor(_htOption.width / nCount);\n            var nHeight = Math.floor(_htOption.height / nCount);\n            var aHTML = ['<table style=\"border:0;border-collapse:collapse;\">'];\n\n            for (var row = 0; row < nCount; row++) {\n                aHTML.push('<tr>');\n\n                for (var col = 0; col < nCount; col++) {\n                    aHTML.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + 'px;height:' + nHeight + 'px;background-color:' + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';\"></td>');\n                }\n\n                aHTML.push('</tr>');\n            }\n\n            aHTML.push('</table>');\n            _el.innerHTML = aHTML.join('');\n\n            // Fix the margin values as real size.\n            var elTable = _el.childNodes[0];\n            var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;\n            var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;\n\n            if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n                elTable.style.margin = nTopMarginTable + \"px \" + nLeftMarginTable + \"px\";\n            }\n        };\n\n        /**\n         * Clear the _QRCode\n         */\n        Drawing.prototype.clear = function () {\n            this._el.innerHTML = '';\n        };\n\n        return Drawing;\n    })() : (function () { // Drawing in Canvas\n        function _onMakeImage() {\n            this._elImage.src = this._elCanvas.toDataURL(\"image/png\");\n            this._elImage.style.display = \"block\";\n            this._elCanvas.style.display = \"none\";\n        }\n\n        /**\n         * Check whether the user's browser supports Data URI or not\n         *\n         * @private\n         * @param {Function} fSuccess Occurs if it supports Data URI\n         * @param {Function} fFail Occurs if it doesn't support Data URI\n         */\n        function _safeSetDataURI(fSuccess, fFail) {\n            var self = this;\n            self._fFail = fFail;\n            self._fSuccess = fSuccess;\n\n            // Check it just once\n            if (self._bSupportDataURI === null) {\n                var el = document.createElement(\"img\");\n                var fOnError = function() {\n                    self._bSupportDataURI = false;\n\n                    if (self._fFail) {\n                        self._fFail.call(self);\n                    }\n                };\n                var fOnSuccess = function() {\n                    self._bSupportDataURI = true;\n\n                    if (self._fSuccess) {\n                        self._fSuccess.call(self);\n                    }\n                };\n\n                el.onabort = fOnError;\n                el.onerror = fOnError;\n                el.onload = fOnSuccess;\n                el.src = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\n                return;\n            } else if (self._bSupportDataURI === true && self._fSuccess) {\n                self._fSuccess.call(self);\n            } else if (self._bSupportDataURI === false && self._fFail) {\n                self._fFail.call(self);\n            }\n        };\n\n        /**\n         * Drawing _QRCode by using canvas\n         *\n         * @constructor\n         * @param {HTMLElement} el\n         * @param {Object} htOption _QRCode Options\n         */\n        var Drawing = function (el, htOption) {\n            this._bIsPainted = false;\n            this._android = _getAndroid();\n\n            this._htOption = htOption;\n            this._elCanvas = document.createElement(\"canvas\");\n            this._elCanvas.width = htOption.width;\n            this._elCanvas.height = htOption.height;\n            el.appendChild(this._elCanvas);\n            this._el = el;\n            this._oContext = this._elCanvas.getContext(\"2d\");\n            this._bIsPainted = false;\n            this._elImage = document.createElement(\"img\");\n            this._elImage.alt = \"Scan me!\";\n            this._elImage.style.display = \"none\";\n            this._el.appendChild(this._elImage);\n            this._bSupportDataURI = null;\n        };\n\n        /**\n         * Draw the _QRCode\n         *\n         * @param {_QRCode} oQRCode\n         */\n        Drawing.prototype.draw = function (oQRCode) {\n            var _elImage = this._elImage;\n            var _oContext = this._oContext;\n            var _htOption = this._htOption;\n\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = _htOption.width / nCount;\n            var nHeight = _htOption.height / nCount;\n            var nRoundedWidth = Math.round(nWidth);\n            var nRoundedHeight = Math.round(nHeight);\n\n            _elImage.style.display = \"none\";\n            this.clear();\n\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    var bIsDark = oQRCode.isDark(row, col);\n                    var nLeft = col * nWidth;\n                    var nTop = row * nHeight;\n                    _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.lineWidth = 1;\n                    _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.fillRect(nLeft, nTop, nWidth, nHeight);\n\n                    //    \n                    _oContext.strokeRect(\n                        Math.floor(nLeft) + 0.5,\n                        Math.floor(nTop) + 0.5,\n                        nRoundedWidth,\n                        nRoundedHeight\n                    );\n\n                    _oContext.strokeRect(\n                        Math.ceil(nLeft) - 0.5,\n                        Math.ceil(nTop) - 0.5,\n                        nRoundedWidth,\n                        nRoundedHeight\n                    );\n                }\n            }\n\n            this._bIsPainted = true;\n        };\n\n        /**\n         * Make the image from Canvas if the browser supports Data URI.\n         */\n        Drawing.prototype.makeImage = function () {\n            if (this._bIsPainted) {\n                _safeSetDataURI.call(this, _onMakeImage);\n            }\n        };\n\n        /**\n         * Return whether the _QRCode is painted or not\n         *\n         * @return {Boolean}\n         */\n        Drawing.prototype.isPainted = function () {\n            return this._bIsPainted;\n        };\n\n        /**\n         * Clear the _QRCode\n         */\n        Drawing.prototype.clear = function () {\n            this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\n            this._bIsPainted = false;\n        };\n\n        /**\n         * @private\n         * @param {Number} nNumber\n         */\n        Drawing.prototype.round = function (nNumber) {\n            if (!nNumber) {\n                return nNumber;\n            }\n\n            return Math.floor(nNumber * 1000) / 1000;\n        };\n\n        return Drawing;\n    })();\n\n    /**\n     * Get the type by string length\n     *\n     * @private\n     * @param {String} sText\n     * @param {Number} nCorrectLevel\n     * @return {Number} type\n     */\n    function _getTypeNumber(sText, nCorrectLevel) {\n        var nType = 1;\n        var length = _getUTF8Length(sText);\n\n        for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n            var nLimit = 0;\n\n            switch (nCorrectLevel) {\n                case QRErrorCorrectLevel.L :\n                    nLimit = QRCodeLimitLength[i][0];\n                    break;\n                case QRErrorCorrectLevel.M :\n                    nLimit = QRCodeLimitLength[i][1];\n                    break;\n                case QRErrorCorrectLevel.Q :\n                    nLimit = QRCodeLimitLength[i][2];\n                    break;\n                case QRErrorCorrectLevel.H :\n                    nLimit = QRCodeLimitLength[i][3];\n                    break;\n            }\n\n            if (length <= nLimit) {\n                break;\n            } else {\n                nType++;\n            }\n        }\n\n        if (nType > QRCodeLimitLength.length) {\n            throw new Error(\"Too long data\");\n        }\n\n        return nType;\n    }\n\n    function _getUTF8Length(sText) {\n        var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n        return replacedText.length + (replacedText.length != sText ? 3 : 0);\n    }\n\n    /**\n     * @class _QRCode\n     * @constructor\n     * @example\n     * new _QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\n     *\n     * @example\n     * var oQRCode = new _QRCode(\"test\", {\n     *    text : \"http://naver.com\",\n     *    width : 128,\n     *    height : 128\n     * });\n     *\n     * oQRCode.clear(); // Clear the _QRCode.\n     * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the _QRCode.\n     *\n     * @param {HTMLElement|String} el target element or 'id' attribute of element.\n     * @param {Object|String} vOption\n     * @param {String} vOption.text _QRCode link data\n     * @param {Number} [vOption.width=256]\n     * @param {Number} [vOption.height=256]\n     * @param {String} [vOption.colorDark=\"#000000\"]\n     * @param {String} [vOption.colorLight=\"#ffffff\"]\n     * @param {_QRCode.CorrectLevel} [vOption.correctLevel=_QRCode.CorrectLevel.H] [L|M|Q|H]\n     */\n    _QRCode = function (el, vOption) {\n        this._htOption = {\n            width : 256,\n            height : 256,\n            typeNumber : 4,\n            colorDark : \"#000000\",\n            colorLight : \"#ffffff\",\n            correctLevel : QRErrorCorrectLevel.H\n        };\n\n        if (typeof vOption === 'string') {\n            vOption\t= {\n                text : vOption\n            };\n        }\n\n        // Overwrites options\n        if (vOption) {\n            for (var i in vOption) {\n                this._htOption[i] = vOption[i];\n            }\n        }\n\n        if (typeof el == \"string\") {\n            el = document.getElementById(el);\n        }\n\n        if (this._htOption.useSVG) {\n            Drawing = svgDrawer;\n        }\n\n        this._android = _getAndroid();\n        this._el = el;\n        this._oQRCode = null;\n        this._oDrawing = new Drawing(this._el, this._htOption);\n\n        if (this._htOption.text) {\n            this.makeCode(this._htOption.text);\n        }\n    };\n\n    /**\n     * Make the _QRCode\n     *\n     * @param {String} sText link data\n     */\n    _QRCode.prototype.makeCode = function (sText) {\n        this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\n        this._oQRCode.addData(sText);\n        this._oQRCode.make();\n        this._el.title = sText;\n        this._oDrawing.draw(this._oQRCode);\n        this.makeImage();\n    };\n\n    /**\n     * Make the Image from Canvas element\n     * - It occurs automatically\n     * - Android below 3 doesn't support Data-URI spec.\n     *\n     * @private\n     */\n    _QRCode.prototype.makeImage = function () {\n        if (typeof this._oDrawing.makeImage == \"function\" && (!this._android || this._android >= 3)) {\n            this._oDrawing.makeImage();\n        }\n    };\n\n    /**\n     * Clear the _QRCode\n     */\n    _QRCode.prototype.clear = function () {\n        this._oDrawing.clear();\n    };\n\n    /**\n     * @name _QRCode.CorrectLevel\n     */\n    _QRCode.CorrectLevel = QRErrorCorrectLevel;\n})();\n\nexport function QRCode() {\n    return _QRCode.apply(this, arguments)\n}\n\nQRCode.prototype = _QRCode.prototype\nQRCode.CorrectLevel = _QRCode.CorrectLevel","import {QRCode} from \"../lib/qrcode.js\";\n\nexport function createQR(identity) {\n    const target =  location.origin + location.pathname + \"?keys=\" + identity.publicKey + \",\" + identity.privateKey + \"#keyload\"\n    console.log(target)\n    document.getElementById(\"qrcode\").innerHTML = '';\n    const qrcode = new QRCode(document.getElementById(\"qrcode\"), {\n        text: target,\n        width: 384,\n        height: 384,\n        colorDark : \"#000000\",\n        colorLight : \"#ffffff\",\n        correctLevel : QRCode.CorrectLevel.H\n    })\n}","import {me, recreateMe} from \"../model/chain.js\"\nimport {tokenLaunch, selectedToken, dropSelectedToken} from \"../model/token.js\"\nimport {app} from \"../main.js\"\nimport {createPresentation} from \"../model/presentation.js\"\nimport {createQR} from \"./qr.js\";\n\nexport const HostPage = Vue.component('host-page', {\n    data: function () {\n        return {\n            token: selectedToken,\n            presenterName: null,\n            title: null,\n            abstract: null\n        }\n    },\n    methods: {\n        createToken: function() {\n            return tokenLaunch().then(t => {\n                this.token = t\n                console.log(\"Token created: \" + t.id)\n            })\n        },\n        entrance: function() {\n            app.route(\"entrance\")\n        },\n        timer: function() {\n            app.route(\"timer\")\n        },\n        newIdentity: function() {\n            if (window.confirm(\"Are you sure to create new identity?\")) {\n                recreateMe()\n                dropSelectedToken()\n                location.reload()\n            }\n        },\n        addPresentation: function() {\n            createPresentation(this.presenterName, this.title, this.abstract).then(pres =>\n            {\n                document.location.reload()\n            })\n        },\n        clone: function() {\n            createQR(me())\n        }\n    },\n    template: `\n  <v-content>\n    <v-container fluid>\n    <div>\n        <v-btn v-if=\"!token\" @click=\"createToken()\">Create Token</v-btn>\n        <div>\n            <span v-if=\"token\">Token: {{token.id}}</span>\n            <a href=\"\" @click=\"newIdentity()\">New Identity</a>\n        </div>\n        <v-btn @click=\"entrance()\" v-if=\"token\">Entrance View</v-btn>\n        <v-btn @click=\"timer()\" v-if=\"token\">Timer View</v-btn>\n        <div v-if=\"token\">\n            <h3>Presentations</h3>\n            <presentation-list host=\"true\"></presentation-list>\n            <h3>Create Presentation</h3>\n            <v-form>\n                <v-text-field v-model=\"presenterName\" placeholder=\"Presenter\" single-line></v-text-field>\n                <v-text-field v-model=\"title\" placeholder=\"Title\"></v-text-field>\n                <v-textarea v-model=\"abstract\" placeholder=\"Abstract\"></v-textarea>\n                <v-btn v-if=\"title\" @click=\"addPresentation()\">Create Presentation</v-btn>        \n            </v-form>\n        </div>\n        <v-btn @click=\"clone()\">Clone identity</v-btn>        \n        <div id=\"qrcode\" style=\"margin: 20px\"></div>        \n    </div>\n    </v-container>\n</v-content>\n`\n})","// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\nfunction factory() {\n\n    if (!('WebSocket' in window)) {\n        return;\n    }\n\n    function ReconnectingWebSocket(url, protocols, options) {\n\n        // Default settings\n        var settings = {\n\n            /** Whether this instance should log debug messages. */\n            debug: false,\n\n            /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n            automaticOpen: true,\n\n            /** The number of milliseconds to delay before attempting to reconnect. */\n            reconnectInterval: 1000,\n            /** The maximum number of milliseconds to delay a reconnection attempt. */\n            maxReconnectInterval: 30000,\n            /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n            reconnectDecay: 1.5,\n\n            /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n            timeoutInterval: 2000,\n\n            /** The maximum number of reconnection attempts to make. Unlimited if null. */\n            maxReconnectAttempts: null,\n\n            /** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */\n            binaryType: 'blob'\n        }\n        if (!options) { options = {}; }\n\n        // Overwrite and define settings with options if they exist.\n        for (var key in settings) {\n            if (typeof options[key] !== 'undefined') {\n                this[key] = options[key];\n            } else {\n                this[key] = settings[key];\n            }\n        }\n\n        // These should be treated as read-only properties\n\n        /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n        this.url = url;\n\n        /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n        this.reconnectAttempts = 0;\n\n        /**\n         * The current state of the connection.\n         * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n         * Read only.\n         */\n        this.readyState = WebSocket.CONNECTING;\n\n        /**\n         * A string indicating the name of the sub-protocol the server selected; this will be one of\n         * the strings specified in the protocols parameter when creating the WebSocket object.\n         * Read only.\n         */\n        this.protocol = null;\n\n        // Private state variables\n\n        var self = this;\n        var ws;\n        var forcedClose = false;\n        var timedOut = false;\n        var eventTarget = document.createElement('div');\n\n        // Wire up \"on*\" properties as event handlers\n\n        eventTarget.addEventListener('open',       function(event) { self.onopen(event); });\n        eventTarget.addEventListener('close',      function(event) { self.onclose(event); });\n        eventTarget.addEventListener('connecting', function(event) { self.onconnecting(event); });\n        eventTarget.addEventListener('message',    function(event) { self.onmessage(event); });\n        eventTarget.addEventListener('error',      function(event) { self.onerror(event); });\n\n        // Expose the API required by EventTarget\n\n        this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n        this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);\n        this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n        /**\n         * This function generates an event that is compatible with standard\n         * compliant browsers and IE9 - IE11\n         *\n         * This will prevent the error:\n         * Object doesn't support this action\n         *\n         * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n         * @param s String The name that the event should use\n         * @param args Object an optional object that the event will use\n         */\n        function generateEvent(s, args) {\n        \tvar evt = document.createEvent(\"CustomEvent\");\n        \tevt.initCustomEvent(s, false, false, args);\n        \treturn evt;\n        };\n\n        this.open = function (reconnectAttempt) {\n            ws = new WebSocket(self.url, protocols || []);\n            ws.binaryType = this.binaryType;\n\n            if (reconnectAttempt) {\n                if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {\n                    return;\n                }\n            } else {\n                eventTarget.dispatchEvent(generateEvent('connecting'));\n                this.reconnectAttempts = 0;\n            }\n\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n                console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);\n            }\n\n            var localWs = ws;\n            var timeout = setTimeout(function() {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);\n                }\n                timedOut = true;\n                localWs.close();\n                timedOut = false;\n            }, self.timeoutInterval);\n\n            ws.onopen = function(event) {\n                clearTimeout(timeout);\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onopen', self.url);\n                }\n                self.protocol = ws.protocol;\n                self.readyState = WebSocket.OPEN;\n                self.reconnectAttempts = 0;\n                var e = generateEvent('open');\n                e.isReconnect = reconnectAttempt;\n                reconnectAttempt = false;\n                eventTarget.dispatchEvent(e);\n            };\n\n            ws.onclose = function(event) {\n                clearTimeout(timeout);\n                ws = null;\n                if (forcedClose) {\n                    self.readyState = WebSocket.CLOSED;\n                    eventTarget.dispatchEvent(generateEvent('close'));\n                } else {\n                    self.readyState = WebSocket.CONNECTING;\n                    var e = generateEvent('connecting');\n                    e.code = event.code;\n                    e.reason = event.reason;\n                    e.wasClean = event.wasClean;\n                    eventTarget.dispatchEvent(e);\n                    if (!reconnectAttempt && !timedOut) {\n                        if (self.debug || ReconnectingWebSocket.debugAll) {\n                            console.debug('ReconnectingWebSocket', 'onclose', self.url);\n                        }\n                        eventTarget.dispatchEvent(generateEvent('close'));\n                    }\n\n                    var timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);\n                    setTimeout(function() {\n                        self.reconnectAttempts++;\n                        self.open(true);\n                    }, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\n                }\n            };\n            ws.onmessage = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);\n                }\n                var e = generateEvent('message');\n                e.data = event.data;\n                eventTarget.dispatchEvent(e);\n            };\n            ws.onerror = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onerror', self.url, event);\n                }\n                eventTarget.dispatchEvent(generateEvent('error'));\n            };\n        }\n\n        // Whether or not to create a websocket upon instantiation\n        if (this.automaticOpen == true) {\n            this.open(false);\n        }\n\n        /**\n         * Transmits data to the server over the WebSocket connection.\n         *\n         * @param data a text string, ArrayBuffer or Blob to send to the server.\n         */\n        this.send = function(data) {\n            if (ws) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'send', self.url, data);\n                }\n                return ws.send(data);\n            } else {\n                throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\n            }\n        };\n\n        /**\n         * Closes the WebSocket connection or connection attempt, if any.\n         * If the connection is already CLOSED, this method does nothing.\n         */\n        this.close = function(code, reason) {\n            // Default CLOSE_NORMAL code\n            if (typeof code == 'undefined') {\n                code = 1000;\n            }\n            forcedClose = true;\n            if (ws) {\n                ws.close(code, reason);\n            }\n        };\n\n        /**\n         * Additional public API method to refresh the connection if still open (close, re-open).\n         * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n         */\n        this.refresh = function() {\n            if (ws) {\n                ws.close();\n            }\n        };\n    }\n\n    /**\n     * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n     * this indicates that the connection is ready to send and receive data.\n     */\n    ReconnectingWebSocket.prototype.onopen = function(event) {};\n    /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n    ReconnectingWebSocket.prototype.onclose = function(event) {};\n    /** An event listener to be called when a connection begins being attempted. */\n    ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n    /** An event listener to be called when a message is received from the server. */\n    ReconnectingWebSocket.prototype.onmessage = function(event) {};\n    /** An event listener to be called when an error occurs. */\n    ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n    /**\n     * Whether all instances of ReconnectingWebSocket should log debug messages.\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n     */\n    ReconnectingWebSocket.debugAll = false;\n\n    ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n    ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n    ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n    ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n    return ReconnectingWebSocket;\n};\n\nexport const ReconnectingWebSocket = factory()\n","import {ReconnectingWebSocket} from \"../lib/reconnecting-websocket.js\"\nimport {getTransaction, WS_BASE_URL} from \"./chain.js\"\n\nconst WS_URL = WS_BASE_URL + \"streams/valid_transactions\"\n\nconst listeners = new Map()\nlet websocket = null\n\nfunction initWebSocket()\n{\n    websocket = new ReconnectingWebSocket(WS_URL)\n    websocket.onmessage = wsMessageHandler\n}\n\nfunction wsMessageHandler(message) {\n    const transactionRef = JSON.parse(message.data)\n    const interestedListeners = listeners.get(transactionRef.asset_id)\n    if (!interestedListeners) {\n        return\n    }\n    getTransaction(transactionRef.transaction_id).then(transaction => {\n        interestedListeners.forEach(listener => {\n            listener.handler(transaction)\n        })\n    })\n}\n\nfunction addListener(listener) {\n    listener.assetIds.forEach(assetId => {\n        listeners.has(assetId) || listeners.set(assetId, [])\n        listeners.get(assetId).push(listener)\n    })\n    return listener\n}\n\nexport function listenForTransactions(assetIds, handler) {\n    if (!websocket) initWebSocket()\n    return addListener({\n        assetIds,\n        handler,\n        id: String(Date.now()) + Math.random(),\n    })\n}\n\nexport function clearListener(listener) {\n    listener.assetIds.forEach(assetId => {\n        const idx = listeners.get(assetId).indexOf(listener)\n        if (idx !== -1) {\n            listeners.get(assetId).splice(idx, 1)\n        }\n    })\n}","import {app} from \"../main.js\"\nimport {createIdentity} from \"../model/chain.js\"\nimport {selectedToken,giveTokens} from \"../model/token.js\"\nimport {clearListener, listenForTransactions} from \"../model/chainevents.js\";\nimport {createQR} from \"./qr.js\";\n\nfunction createVisitor() {\n    const visitor = createIdentity()\n    return giveTokens(selectedToken, visitor.publicKey, 11).then(res => {\n        return visitor\n    })\n}\n\nexport const EntrancePage = Vue.component('entrance-page', {\n    data: function () {\n        return {\n            selectedToken,\n            txListeners: [],\n            lastVisitorPubKey: null\n        }\n    },\n    created: function() {\n        this.txListeners.push(listenForTransactions([selectedToken.id], (tx) => {\n            if (tx.inputs[0].owners_before[0] == this.lastVisitorPubKey) {\n                this.newVisitor()\n            }\n        }))\n        this.newVisitor()\n    },\n    beforeDestroy: function() {\n        this.txListeners.forEach(clearListener)\n    },\n    methods: {\n        newVisitor: function() {\n            createVisitor().then(visitor => {\n                createQR(visitor)\n                this.lastVisitorPubKey = visitor.publicKey\n            })\n        },\n        host: function() {\n            app.route(\"\")\n        }\n    },\n    template: `\n  <v-content>\n    <v-container fluid>\n<div>\n    <div v-if=\"!selectedToken\">No token found</div>\n    <div id=\"qrcode\" style=\"margin: 20px\"></div>\n    <v-btn v-if=\"selectedToken\" @click=\"newVisitor()\">New Visitor</v-btn>\n    <v-btn @click=\"host()\">Back to Host View</v-btn>\n</div>\n`\n})","import {selectedToken} from \"../model/token.js\";\nimport {findPresentations, findRunningPresentation, startPresentation} from \"../model/presentation.js\";\nimport {app} from \"../main.js\";\nimport {clearListener, listenForTransactions} from \"../model/chainevents.js\";\n\nexport const PresentationList = Vue.component('presentation-list', {\n    props: {\n        host: Boolean,\n        voteForRunning: Function\n    },\n    data: function () {\n        return {\n            presentations: [],\n            runningPresentation: null\n        }\n    },\n    methods: {\n        update: function() {\n            if (selectedToken) {\n                findPresentations().then(presentations => {\n                    this.presentations = presentations\n                }).then(() => {\n                    findRunningPresentation().then(running => {\n                        this.runningPresentation = running\n                    })\n                })\n            }\n        },\n        start: function(presentation) {\n            startPresentation(presentation).then(() => {\n                document.getElementById(\"bellSound\").play()\n                app.route(\"timer\")\n            })\n        },\n        vote: function() {\n            this.$emit(\"vote\")\n        }\n    },\n    created: function() {\n        this.txListeners = [];\n        this.update()\n        this.txListeners.push(listenForTransactions([selectedToken.id], this.update.bind(this)))\n        findPresentations().then(presentations => {\n            this.txListeners.push(listenForTransactions(presentations.map(p => p.id), this.update.bind(this)))\n        })\n    },\n    beforeDestroy: function() {\n        this.txListeners.forEach(clearListener)\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div>\n            <div v-if=\"runningPresentation\">Running presentation:\n                <div><b>{{ runningPresentation.asset.data.title }} - {{ runningPresentation.asset.data.presenterName }}</b></div> \n                <div>{{ runningPresentation.asset.data.abstract }}</div>\n                 <v-btn v-if=\"voteForRunning\" @click=\"vote()\">Vote</v-btn>\n            </div>\n            --\n            <ul>\n                <li v-for=\"pres in presentations\">\n                    <div><b>{{ pres.asset.data.title }} - {{ pres.asset.data.presenterName }}</b></div> \n                    <div>{{ pres.asset.data.abstract }}</div>\n                    <v-btn v-if=\"host\" @click=\"start(pres)\">Start</v-btn>\n                </li>\n            </ul>\n    </div>\n    </v-container>\n</v-content>\n    `\n})\n","import {selectedToken,getOwnedTokens,selectTokenById} from \"../model/token.js\"\nimport {setMe, me, getTransaction} from \"../model/chain.js\"\nimport {PresentationList} from \"./presentationlist.js\"\nimport {voteForRunning} from \"../model/presentation.js\";\n\nexport const VisitorPage = Vue.component('visitor-page', {\n    data: function () {\n        return {\n            selectedToken,\n            me: null,\n            tokens: null,\n            voteInProgress: false,\n        }\n    },\n    created: function() {\n        this.update()\n    },\n    methods: {\n        vote: function() {\n            this.voteInProgress = true\n            voteForRunning()\n                .finally(() => this.voteInProgress = false)\n                .then(this.update.bind(this))\n        },\n        update: function() {\n            this.me = me()\n            getOwnedTokens(me().publicKey).then(ownedTokens => {\n                this.tokens = ownedTokens\n                return selectTokenById(this.tokens.transactions[0].asset.id)\n            })\n        },\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div v-if=\"tokens\">Tokens: {{tokens.total}}</div>\n        <presentation-list v-if=\"!voteInProgress\" voteForRunning=true @vote=\"vote\" ></presentation-list>\n        <div v-if=\"voteInProgress\">Committing vote...</div>\n    </v-container>\n</v-content>\n`\n})","import {app} from \"../main.js\";\nimport {autoGrant, findRunningPresentation, grantTime} from \"../model/presentation.js\";\nimport {getChainTimeMillis} from \"../model/chain.js\";\n\nfunction twoDigit(num) {\n    return num < 10 ? \"0\" + num : \"\" + num\n}\n\nfunction minsecs(totalsecs) {\n    const mins = Math.floor(totalsecs / 60)\n    const secs = totalsecs - mins * 60\n    return twoDigit(mins) + \":\" + twoDigit(secs)\n}\n\nexport const TimerPage = Vue.component('timer-page', {\n    data: function () {\n        return {\n            _interval: null,\n            startTS: 0,\n            grantedLength: 0,\n            runningForSecs: 0,\n            presentation: null\n        }\n    },\n    computed: {\n        timer: function() {\n            return minsecs(this.startTS ? this.runningForSecs : 0)\n        },\n        granted: function() {\n            return minsecs(this.startTS ? this.grantedLength : 0)\n        },\n        runnedOut: function() {\n            return this.grantedLength + 1 < this.runningForSecs\n        }\n    },\n    created: function() {\n        this._interval = setInterval(this.step.bind(this), 1000)\n        this.update()\n    },\n    beforeDestroy: function() {\n        clearInterval(this._interval)\n    },\n    methods: {\n        step: function() {\n            this.runningForSecs = getChainTimeMillis() - this.startTS\n            if (this.runningForSecs === this.grantedLength) {\n                this.autoGrant()\n            }\n        },\n        host: function () {\n            app.route(\"\")\n        },\n        autoGrant: function() {\n            autoGrant(this.presentation, 5).then(result => {\n                if (!result) {\n                    console.log(\"No more time granted\")\n                    document.getElementById(\"bellSound\").play()\n                }\n                this.update()\n            })\n        },\n        update: function() {\n            findRunningPresentation().then(presentation => {\n                this.presentation = presentation\n                this.grantedLength = presentation.metadata.grantedLength;\n                this.startTS = presentation.metadata.startTS\n            })\n        }\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div>\n            <div class=\"display-4\"><div v-bind:class=\"{ runnedOut: runnedOut }\">{{timer}}</div></div>\n            <div>Granted: {{granted}}</div>\n            <v-btn @click=\"host()\">Host view</v-btn>\n        </div>\n    </v-container>\n</v-content>\n`\n})","import {selectedToken, getOwnedTokens, selectTokenById, transferAllToNewIdentity} from \"../model/token.js\"\nimport {setMe, me, getTransaction} from \"../model/chain.js\"\n\nexport const KeyLoadPage = Vue.component('keyload-page', {\n    data: function () {\n        return {\n            selectedToken,\n            me: null,\n            tokens: null,\n            noTokensFound: false,\n        }\n    },\n    created: function() {\n        this.update()\n    },\n    methods: {\n        update: function() {\n            this.me = me()\n            getOwnedTokens(me().publicKey).then(ownedTokens => {\n                this.tokens = ownedTokens\n                if (!ownedTokens.total) {\n                    throw \"Zero tokens!\"\n                }\n                return selectTokenById(this.tokens.transactions[0].asset.id)\n                    .then(transferAllToNewIdentity).then(() => {\n                        document.location.href = document.location.pathname + '#keyloadresult'\n                    })\n            }).catch(() => this.noTokensFound = true)\n        },\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div v-if=\"tokens && !noTokensFound\">Creating identity and transferrig {{tokens.total}} tokens...</div>\n        <div v-if=\"noTokensFound\">No tokens found, maybe QR code was already used</div>\n    </v-container>\n</v-content>\n`\n})","\nexport const KeyLoadResultPage = Vue.component('keyload-page', {\n    created: function() {\n        setTimeout(() => {\n            document.location.href = document.location.pathname + '?x=1#visitor'\n        }, 500)\n    },\n    template: `\n<v-content>\n    <v-container fluid>\n        <div>Identity generated, starting app...</div>\n    </v-container>\n</v-content>\n`\n})","import {HostPage} from \"./view/hostpage.js\"\nimport {EntrancePage} from \"./view/entrancepage.js\"\nimport {VisitorPage} from \"./view/visitorpage.js\"\nimport {TimerPage} from \"./view/timerpage.js\"\nimport {KeyLoadPage} from \"./view/keyloadpage.js\";\nimport {KeyLoadResultPage} from \"./view/keyloadresult.js\";\n\nconst NotFound = { template: '<p>Page not found</p>' }\n\nconst routes = {\n    '': HostPage,\n    'visitor': VisitorPage,\n    'entrance': EntrancePage,\n    'timer': TimerPage,\n    'keyload': KeyLoadPage,\n    'keyloadresult': KeyLoadResultPage\n}\n\nexport const app = new Vue({\n    el: '#app',\n    data: {\n        currentRoute: window.location.hash.substr(1)\n    },\n    methods: {\n        route: function(newRoute) {\n            history.pushState(null, \"\", '#' + newRoute)\n            this.currentRoute = newRoute\n        }\n    },\n    computed: {\n        ViewComponent () {\n            return routes[this.currentRoute] || NotFound\n        }\n    },\n    render (h) { return h(this.ViewComponent) }\n})\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}